"use strict";(self.webpackChunkdendrogram=self.webpackChunkdendrogram||[]).push([[483],{483(e,t,n){n.r(t),n.d(t,{default:()=>me});var s=n(848),i=n(540),r=n(240),o=n(723);function a({bbox:e,bboxSoma:t,bboxDendrites:n}){const s=new o.xNY({transfo:{distance:5,position:e.center},near:1});s.screenHeight=s.screenWidth;const i=c(s,n,1.1),r=(a=i)>(l=c(s,e,1.5))?a:1.1*l;var a,l;const h=function(e,t){return e<t?e:.9*t}(c(s,t,3),i),u=i/r,d=i/h;return s.transfo.distance=i,{camera:s,zoomMin:u,zoomMax:d}}function c(e,t,n){const s=2*n*Math.max(1,Math.abs(t.center[0]-t.min[0]),Math.abs(t.center[0]-t.max[0])),i=2*n*Math.max(1,Math.abs(t.center[1]-t.min[1]),Math.abs(t.center[1]-t.max[1]));return e.fitSpaceAtTarget(s,i),e.transfo.distance}function l(e,t,n,s,i){const r=function(e,t,n,s){const i=new o.oao(...e.start,1),r=new o.oao(...e.end,1),a=new o.MC5(t.matrixProjection).multiply(t.matrixModelView);i.applyMatrix(a),i.scale(1/i.w),r.applyMatrix(a),r.scale(1/r.w);const c=new o.opw(r.x-i.x,r.y-i.y),l=c.size;c.normalize();const h=new o.opw(n-i.x,s-i.y),u=c.dot(h);return(0,o.O6b)(l>0?u/l:0,0,1)}(t,n,s,i),a=e.getSegmentsOfSection(t.sectionName);let c=0,l=0;for(const e of a)l+=e.length,e.segmentIndex===t.segmentIndex?c+=e.length*r:e.segmentIndex<t.segmentIndex&&(c+=e.length);return l>0?c/l:0}var h=Object.defineProperty,u=Object.defineProperties,d=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(m)for(var n of m(t))f.call(t,n)&&g(e,n,t[n]);return e},v=(e,t)=>u(e,d(t));function A(e){const t=new Map;for(const n of e)t.set(w(n.end),n);for(const n of e){if(n.parent)continue;const e=t.get(w(n.start));e&&(e.children.push(n),n.parent=e)}const[n,...s]=e.filter(e=>!e.parent);for(const e of s)n.children.push(e),e.parent=n;return b(n),C(n),y(n,e),n}function w([e,t,n]){return`${e.toFixed(3)}/${t.toFixed(3)}/${n.toFixed(3)}`}function b(e,t=0){if(!e)return;e.distanceFromSoma=t;const n=t+e.length;e.leavesCount=e.children.length>0?0:1,e.maxLength=0;for(const t of e.children)b(t,n),e.leavesCount+=t.leavesCount,e.maxLength=Math.max(e.maxLength,t.maxLength);e.maxLength+=e.length}function C(e,t=-1,n=1){if(!e)return;e.rank=(t+n)/2;const s=Math.abs(n-t);let i=t;for(const t of e.children){const n=s*t.leavesCount/e.leavesCount;C(t,i,i+n),i+=n}}function y(e,t){if(e)if(e.children.length>1)for(let n=0;n<e.children.length;n++){const s=e.children[n],i=v(x({},s),{name:`${e.name} > ${s.name}`,type:I.Liaison,start:[...e.end],end:[...s.start],radius:.001,children:[s]});t.push(i),e.children[n]=i,y(s,t)}else for(const n of e.children)y(n,t)}var I=(e=>(e[e.Soma=0]="Soma",e[e.Dendrite=1]="Dendrite",e[e.BasalDendrite=2]="BasalDendrite",e[e.ApicalDendrite=3]="ApicalDendrite",e[e.Myelin=4]="Myelin",e[e.Axon=5]="Axon",e[e.Selected=6]="Selected",e[e.Liaison=7]="Liaison",e[e.Unknown=8]="Unknown",e))(I||{});class S{constructor(e){this.items=[],this.segments=new Map,this.segmentsPerSection=new Map;const t=k(),n=k(),s=k();this.bbox=t,this.bboxSoma=n,this.bboxDendrites=s;let i=!0,r=!0,a=0;const c=new o.hNi,l=Object.keys(e);let h=!1;for(const o of l){const l=o.toLowerCase().startsWith("soma"),u=e[o];for(let e=0;e<u.nseg;e++){const d=[u.xstart[e],u.ystart[e],u.zstart[e]],m=[u.xend[e],u.yend[e],u.zend[e]],p=M(o);3===p&&(h=!0);const f={children:[],start:d,end:m,radius:u.diam[e]/2,index:this.items.length,name:`${o}[${e}]`,sectionName:o,sectionIndex:P(o),segmentIndex:e,segmentsCount:u.nseg,length:u.length[e],type:p,distanceFromSoma:0,leavesCount:0,maxLength:0,rank:0};this.segments.set(f.name,f),this.addToSection(f),this.items.push(f),t.min=N(t.min,d,f.radius),t.max=E(t.max,d,f.radius),t.min=N(t.min,m,f.radius),t.max=E(t.max,m,f.radius),l?(a++,c.add(d),a++,c.add(m),n.min=N(n.min,d,f.radius),n.max=E(n.max,d,f.radius),n.min=N(n.min,m,f.radius),n.max=E(n.max,m,f.radius),i=!1):[1,2,3,0].includes(p)&&(s.min=N(s.min,d,f.radius),s.max=E(s.max,d,f.radius),s.min=N(s.min,m,f.radius),s.max=E(s.max,m,f.radius),r=!1)}}if(!h)for(const e of this.items)2===e.type&&(e.type=1);a>0&&c.scale(1/a),t.center=[...c],this.hasApicalDendrites=h,i&&_(t,n),r&&_(t,s),this.root=A(this.items)}getSegmentsOfSection(e){var t;return null!=(t=this.segmentsPerSection.get(e))?t:[]}get length(){return this.items.length}get(e){const t=this.items[e];if(!t)throw Error(`Index (${e}) out of bounds! Items available: ${this.length}.`);return t}forEach(e){this.items.forEach(e)}addToSection(e){const t=this.segmentsPerSection.get(e.sectionName);t?(t.push(e),t.sort(({segmentIndex:e},{segmentIndex:t})=>e-t)):this.segmentsPerSection.set(e.sectionName,[e])}}function N(e,t,n=0){return[Math.min(e[0],t[0]-n),Math.min(e[1],t[1]-n),Math.min(e[2],t[2]-n)]}function E(e,t,n=0){return[Math.max(e[0],t[0]+n),Math.max(e[1],t[1]+n),Math.max(e[2],t[2]+n)]}function M(e){switch(e.slice(0,4).toLowerCase()){case"soma":return 0;case"axon":return 5;case"dend":return 2;case"apic":return 3;case"myel":return 4;default:return 8}}function P(e){const t=e.indexOf("["),n=e.slice(t+1);return parseInt(n.slice(0,n.length-1),10)}function k(){return{min:[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],max:[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],center:[0,0,0]}}function _(e,t){t.center=[...e.center],t.max=[...e.max],t.min=[...e.min]}function B(e){const t=new o.$Rn;return e.forEach(n=>{const s=[(n.type+.5)/(I.Unknown+1),(n.index+1.5)/(e.length+2)];t.add([...n.start,n.radius],[...n.end,n.radius],s,s)}),t}function z(e,t){var n;return e.type===I.Liaison?O(null!=(n=e.parent)?n:e,t):[e.rank*t,e.distanceFromSoma,0]}function O(e,t){if(e.type===I.Liaison){const[n]=e.children;return z(null!=n?n:e,t)}return[e.rank*t,e.distanceFromSoma+e.length,0]}var j=Object.defineProperty,T=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,V=(e,t,n)=>t in e?j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y=(e,t)=>{for(var n in t||(t={}))Q.call(t,n)&&V(e,n,t[n]);if(T)for(var n of T(t))L.call(t,n)&&V(e,n,t[n]);return e};class Z extends o.rBx{constructor(){super({varyings:{varColor:"vec3"},extraVertexShaderFunctions:Y({},(0,o.tAc)()),vertexShaderCode:["varColor = float01ToVec3(attUV1.y);"],fragmentShaderCode:["return vec4(varColor, 1);"]})}}class D{constructor(e){this.onscreenContext=e,this.offscreenCanvas=new OffscreenCanvas(1,1),this._structure=null,this.group=new o.EWU,this.paint=()=>{const{onscreenContext:e,offscreenContext:t,offscreenCanvas:n}=this;t.camera=e.camera;const{canvas:s}=e,i=Math.ceil(s.width/2),r=Math.ceil(s.height/2);n.width=i,n.height=r,t.paint()},e.eventPaint.addListener(this.paint);const t=new o.tfp(this.offscreenCanvas,{preserveDrawingBuffer:!0,antialias:!1,alpha:!1});t.camera=e.camera,this.offscreenContext=t,t.add(this.group),this.paint()}get structure(){return this._structure}set structure(e){if(e!==this._structure&&(this._structure=e,this.group.delete(),e)){const t=B(e),n=this.offscreenContext;this.group.add(new o.o57(n,{color:[0,0,0,1],depth:1}),new o.Ipk(n,{depth:o.Eg5.lessOrEqual,children:[new o.b5H(n,{roundness:3,minRadius:4,makeDataset:t.makeDataset,material:new Z})]}))}}getItemAt(e,t){const{structure:n,offscreenContext:s}=this;if(!n)return null;const i=new Uint8Array(s.width*s.height*4);s.gl.readPixels(0,0,s.width,s.height,s.gl.RGBA,s.gl.UNSIGNED_BYTE,i);const[r,o,a]=s.readPixel(e,t),c=(r+(o<<8)+(a<<16))/16777215,l=Math.floor((n.length+2)*c)-1;return l<0||l>n.length-1?null:n.get(l)}delete(){this.onscreenContext.eventPaint.removeListener(this.paint),this.offscreenContext.delete()}}const U=[];U[I.Axon]="#07f",U[I.Dendrite]="#F55",U[I.BasalDendrite]="#F33",U[I.ApicalDendrite]="#F8f",U[I.Myelin]="#778",U[I.Soma]="#dde",U[I.Liaison]="#555",U[I.Selected]="#fc0",U[I.Unknown]="#a6f";class F extends o.EWU{constructor(e,t){super(),this.context=e;const n=new o.$Rn,s=[(I.Selected+.5)/(I.Unknown+1),0],i=1.5*t.radius;n.add([...t.start,i],[...t.end,i],s,s),this.add(new o.Ipk(e,{blend:o.aMr.add,cull:o.TfJ.back,depth:o.Eg5.always,children:[new o.b5H(e,{roundness:32,minRadius:2,makeDataset:n.makeDataset,material:new o.$Hl({color:[.8,.6,.3,1],specularExponent:1,specularIntensity:.5,lockLightsToCamera:!0,light:new o.U5Z({direction:new o.hNi(0,0,-1)})})})]}))}}class H extends o.EWU{constructor(e,t){super();for(const{color:n,data:s}of t){const t=new o.h_q(e,{name:`TgdPainterPointsCloud[${n}]`,dataPoint:s,minSizeInPixels:4,radiusMultiplier:5,texture:new o.HTX(e).loadBitmap((0,o.lu8)(1,1,n)),mustDeleteTexture:!0});this.add(t)}}delete(){super.delete()}}class R extends o.EWU{constructor(e){super(),this.context=e,this._structure=new S({}),this.groupSegments=new o.EWU,this.groupSynapses=new o.EWU,this.groupHover=new o.EWU,this._synapses=null,this.palette=new o.HTX(e).loadBitmap((0,o.rY8)(U)).setParams({magFilter:"NEAREST",minFilter:"NEAREST"}),this.add(new o.o57(e,{color:[0,0,0,1],depth:1}),new o.Ipk(e,{depth:o.Eg5.less,children:[this.groupSegments,this.groupSynapses,this.groupHover]}))}get synapsesEnabled(){return this.groupSynapses.active}set synapsesEnabled(e){this.groupSynapses.active=e,this.context.paint()}get synapses(){return this._synapses}set synapses(e){this._synapses=e;const{context:t,groupSynapses:n}=this;n.delete(),e&&e.length>0&&n.add(new H(t,e)),this.context.paint()}get structure(){return this._structure}set structure(e){const{context:t}=this;this._structure=e,B(e);const n=function(e){const t=Math.abs(e.bbox.max[0]-e.bbox.min[0]);console.log("ðŸž [segments@28] structure =",e),console.log("ðŸž [segments@29] width =",t);const n=new o.$Rn;return e.forEach(s=>{const i=[(s.type+.5)/(I.Unknown+1),(s.index+1.5)/(e.length+2)],r=z(s,t),o=O(s,t),a=n.add([...r,s.radius],[...o,s.radius],i,i);s.type===I.Liaison&&console.log("ðŸž [segments@40] segment, item =",a,s)}),n}(e),s=n;this.groupSegments.delete(),this.groupSegments.add(new o.b5H(t,{roundness:6,minRadius:.5,makeDataset:s.makeDataset,material:new o.$Hl({color:this.palette,specularExponent:1,specularIntensity:.25,lockLightsToCamera:!0,light:new o.U5Z({direction:new o.hNi(0,0,-1)})})})),t.paint()}highlight(e){const{groupHover:t,context:n}=this;t.delete(),e&&t.add(new F(n,e)),n.paint()}delete(){this.palette.delete(),this.groupHover.delete(),this.groupSegments.delete(),this.groupSynapses.delete()}}const W=class e{constructor(){this.disableElectrodes=!1,this.id=e.id++,this.eventError=new o.QPQ,this.eventPaint=new o.QPQ,this.eventHover=new o.QPQ,this.eventTap=new o.QPQ,this.eventZoom=new o.QPQ,this.eventRestingPosition=new o.QPQ,this.eventHintVisible=new o.QPQ,this.eventForbiddenClick=new o.QPQ,this.painter=null,this._disableSynapses=!1,this._morphology=null,this._canvas=null,this.context=null,this.offscreen=null,this.structure=null,this._hoverItem={x:0,y:0,offset:0,item:null},this.initialPosition=new o.hNi,this.cameraController=null,this.synapses=[],this.lastCameraChangeTimestamp=0,this.lastCameraState=null,this._clickable=!0,this.zoomOut=()=>{this.zoom-=.1},this.zoomIn=()=>{this.zoom+=.1},this.resetCamera=()=>{const{context:e,cameraController:t}=this;if(!e||!t)return;const{zoom:n}=this;t.reset(.3333,{onAction:e=>{this.eventZoom.dispatch((0,o.qx1)(e,0,1,n,0))},onEnd:()=>this.eventRestingPosition.dispatch(!0)})},this.handlePaint=()=>{const{context:e}=this;e&&(this.lastCameraState=e.camera.getCurrentState(),this.eventPaint.dispatch())}}get disableSynapses(){return this._disableSynapses}set disableSynapses(e){this._disableSynapses=e;const{painter:t}=this;t&&(t.synapsesEnabled=!e)}get clickable(){return this._clickable}set clickable(e){var t;this._clickable=e,null==(t=this.context)||t.paint()}get hoverItem(){return this._hoverItem}set hoverItem(e){this._hoverItem=e,this.eventHover.dispatch(e)}get zoom(){const{context:e,cameraController:t}=this;return e&&t?this.toNormalizedZoom(t.zoom):0}set zoom(e){var t;const{cameraController:n}=this;if(!n)return;if(Math.abs(e-this.zoom)<1e-6)return;0!==e&&this.eventRestingPosition.dispatch(!1);const s=this.toControllerZoom(e);n.zoom=s,this.eventZoom.dispatch(e),null==(t=this.context)||t.paint()}get canvas(){return this._canvas}set canvas(e){this._canvas!==e&&(null==e||e.addEventListener("dblclick",e=>{if(!e.shiftKey)return;const t=`data:application/json,${encodeURI(JSON.stringify(this.morphology))}`;console.log(t),globalThis.open(t,"_blank")}),this._canvas=e,e?this.initialize():this.delete())}get morphology(){return this._morphology}set morphology(e){if(e&&JSON.stringify(this._morphology)===JSON.stringify(e)||(this.lastCameraState=null),this._morphology=e,!e)return;const t=new S(e);this.structure=t;const{offscreen:n,painter:s,context:i}=this;if(n&&(n.structure=t),i&&s){const{camera:e,zoomMin:n,zoomMax:r}=a(t);i.camera=e,this.initialPosition.from(i.camera.transfo.position),this.initCameraController(i,n,r),s.structure=t}}getCameraMatrix(){const{context:e}=this;if(!e)return new o.MC5;const{camera:t}=e;return new o.MC5(t.matrixProjection).multiply(t.matrixModelView)}delete(){var e;null==(e=this.painter)||e.delete(),this.painter=null,this.context&&(this.context.delete(),this.context=null),this.offscreen&&(this.offscreen.delete(),this.offscreen=null)}getSectionCoordinates(e,t){var n;const{structure:s}=this;if(!s)return new o.hNi;const i=null!=(n=s.getSegmentsOfSection(e))?n:[],r=i.reduce((e,t)=>e+t.length,0),a=r*t;let c=0;for(const e of i){const t=c;if(c+=e.length,c>=a){const n=(a-t)/e.length;return o.hNi.newFromMix(e.start,e.end,n)}}return new o.hNi}getSegment(e,t){const{structure:n}=this;if(!n)return null;const s=n.getSegmentsOfSection(e);if(!s)return null;const i=s.reduce((e,t)=>e+t.length,0),r=i*t;let o=0;for(const e of s)if(o+=e.length,o>=r)return e;return null}showSynapses(e){this.synapses=e;const{context:t,painter:n}=this;t&&n&&(n.synapses=e)}initialize(){const{canvas:e}=this;if(this.context||!e)return;const t=new o.tfp(e,{alpha:!1,antialias:!0});this.painter=new R(t),t.add(this.painter),t.eventWebGLContextRestored.addListener(()=>{this.delete(),globalThis.requestAnimationFrame(()=>this.initialize())}),t.eventPaint.addListener(this.handlePaint),this.context=t,this.initOffscreen(t),this.eventHintVisible.dispatch(!1);const{structure:n,painter:s}=this;if(s.synapses=this.synapses,n){const{camera:e,zoomMin:i,zoomMax:r}=a(n);t.camera=e,this.initialPosition.from(t.camera.transfo.position),this.initCameraController(t,i,r),s.structure=n}this.lastCameraState&&(t.camera.setCurrentState(this.lastCameraState),this.eventRestingPosition.dispatch(!1))}initOffscreen(e){this.offscreen=new D(e),this.offscreen.structure=this.structure,e.inputs.pointer.eventHover.addListener(t=>{var n,s,i;const{painter:r,structure:o}=this;if(!r||!o)return;const{x:a,y:c}=t.current,h=null!=(s=null==(n=this.offscreen)?void 0:n.getItemAt(a,c))?s:null;if(h!==this.hoverItem.item){r.highlight(null);let t=0;h?(r.highlight(h),t=l(o,h,e.camera,a,c)):r.highlight(null),this.hoverItem={x:a,y:c,offset:t,item:null!=h?h:null},null==(i=this.context)||i.paint(),this.eventHintVisible.dispatch(!0)}}),e.inputs.pointer.eventTap.addListener(e=>{var t,n;if(this.disableElectrodes)return;if(!this.clickable)return void this.eventForbiddenClick.dispatch();if(Date.now()-this.lastCameraChangeTimestamp<300)return;const{structure:s}=this;if(!this.context||!s)return;const{x:i,y:r}=e,o=null!=(n=null==(t=this.offscreen)?void 0:t.getItemAt(i,r))?n:null;if(o){const e=l(s,o,this.context.camera,i,r);this.hoverItem={x:i,y:r,offset:e,item:null!=o?o:null},this.eventTap.dispatch({x:i,y:r,item:this.hoverItem.item,offset:e}),this.eventHintVisible.dispatch(!1)}})}initCameraController(e,t,n){this.cameraController&&this.cameraController.detach();const s=new o.pwt(e,{inertiaOrbit:500,inertiaZoom:250,minZoom:t,maxZoom:n,speedZoom:1,onZoomRequest:({zoom:e})=>(this.eventZoom.dispatch(this.toNormalizedZoom(e)),!0)});this.cameraController=s,s.eventChange.addListener(()=>{this.lastCameraChangeTimestamp=Date.now(),this.eventRestingPosition.dispatch(!1)})}toNormalizedZoom(e){const{cameraController:t}=this;if(!t)return 0;const{minZoom:n,maxZoom:s}=t;return e<1?(0,o.qx1)(e,1,n,0,-1,!0):(0,o.qx1)(e,1,s,0,1,!0)}toControllerZoom(e){const{cameraController:t}=this;if(!t)return 1;const{minZoom:n,maxZoom:s}=t;return e<0?(0,o.qx1)(e,0,-1,1,n,!0):(0,o.qx1)(e,0,1,1,s,!0)}};W.id=0;let $=W;var q=n(72),J=n.n(q),G=n(825),X=n.n(G),K=n(659),ee=n.n(K),te=n(56),ne=n.n(te),se=n(159),ie=n.n(se),re=n(113),oe=n.n(re),ae=n(837),ce={};ce.styleTagTransform=oe(),ce.setAttributes=ne(),ce.insert=ee().bind(null,"head"),ce.domAPI=X(),ce.insertStyleElement=ie(),J()(ae.A,ce);const le=ae.A&&ae.A.locals?ae.A.locals:void 0;function he({className:e}){const t=function(e){const t=i.useRef(null);return t.current||(t.current=new $,t.current.morphology=e),i.useEffect(()=>{t.current&&(t.current.morphology=e)},[e]),i.useEffect(()=>()=>{const e=t.current;e&&e.delete()},[]),t.current}(r.U.morphology.useValue()),n=function(e,t){const[n,s]=i.useState({x:0,y:0,item:null,offset:0});return i.useEffect(()=>{if(t)return t.addListener(s),()=>t.removeListener(s)},[t]),n}(0,t.eventHover),{item:o}=n;return(0,s.jsxs)("div",{className:de(e,le.viewer),children:[(0,s.jsxs)("aside",{children:[(0,s.jsx)("h1",{children:"Morphology"}),o&&(0,s.jsxs)("div",{className:le.grid,children:[(0,s.jsx)("div",{children:"Name:"}),(0,s.jsx)("b",{children:o.name}),(0,s.jsx)("div",{children:"Section:"}),(0,s.jsx)("b",{children:o.sectionName}),(0,s.jsx)("div",{children:"Segment:"}),(0,s.jsx)("b",{children:o.segmentIndex}),(0,s.jsx)("div",{children:"Leaves:"}),(0,s.jsx)("b",{children:o.leavesCount}),(0,s.jsx)("div",{children:"Max length:"}),(0,s.jsx)("b",{children:o.maxLength}),(0,s.jsx)("div",{children:"Children:"}),(0,s.jsx)("b",{children:o.children.length}),(0,s.jsx)("div",{children:"Radius:"}),(0,s.jsx)("b",{children:o.radius})]})]}),(0,s.jsx)(ue,{manager:t})]})}const ue=i.memo(function({manager:e}){return(0,s.jsx)("canvas",{ref:t=>(e.canvas=t,()=>{e.canvas=null})})});function de(...e){return e.filter(e=>"string"==typeof e).join(" ")}function me(){return(0,s.jsx)(he,{})}},837(e,t,n){n.d(t,{A:()=>a});var s=n(354),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([e.id,".src-components-Viewer-Viewer-module_viewer_2yNZtW {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    --size: 300px;\n\n    > aside {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: var(--size);\n        height: 100%;\n        border-right: 1px solid #fff;\n        background-color: #111;\n        color: #eee;\n        padding: 1em;\n        z-index: 2;\n\n        .src-components-Viewer-Viewer-module_grid_H24ete {\n            display: grid;\n            grid-template-columns: auto 1fr;\n            gap: 0.5em 1em;\n\n            > div {\n                opacity: 0.5;\n            }\n\n            > b {\n                opacity: 1;\n            }\n        }\n    }\n\n    > canvas {\n        position: absolute;\n        left: var(--size);\n        top: 0;\n        width: calc(100% - var(--size));\n        height: 100%;\n    }\n}\n","",{version:3,sources:["webpack://./src/components/Viewer/Viewer.module.css"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,OAAO;IACP,MAAM;IACN,WAAW;IACX,YAAY;IACZ,aAAa;;IAEb;QACI,kBAAkB;QAClB,OAAO;QACP,MAAM;QACN,kBAAkB;QAClB,YAAY;QACZ,4BAA4B;QAC5B,sBAAsB;QACtB,WAAW;QACX,YAAY;QACZ,UAAU;;QAEV;YACI,aAAa;YACb,+BAA+B;YAC/B,cAAc;;YAEd;gBACI,YAAY;YAChB;;YAEA;gBACI,UAAU;YACd;QACJ;IACJ;;IAEA;QACI,kBAAkB;QAClB,iBAAiB;QACjB,MAAM;QACN,+BAA+B;QAC/B,YAAY;IAChB;AACJ",sourcesContent:[".viewer {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    --size: 300px;\n\n    > aside {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: var(--size);\n        height: 100%;\n        border-right: 1px solid #fff;\n        background-color: #111;\n        color: #eee;\n        padding: 1em;\n        z-index: 2;\n\n        .grid {\n            display: grid;\n            grid-template-columns: auto 1fr;\n            gap: 0.5em 1em;\n\n            > div {\n                opacity: 0.5;\n            }\n\n            > b {\n                opacity: 1;\n            }\n        }\n    }\n\n    > canvas {\n        position: absolute;\n        left: var(--size);\n        top: 0;\n        width: calc(100% - var(--size));\n        height: 100%;\n    }\n}\n"],sourceRoot:""}]),o.locals={viewer:"src-components-Viewer-Viewer-module_viewer_2yNZtW",grid:"src-components-Viewer-Viewer-module_grid_H24ete"};const a=o}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUcsU0FBVyxzV0FBc1csZUFBaUIsQ0FBQyxvMEJBQW8wQixXQUFhLE1BRXB6QzBHLEVBQXdCdEIsT0FBUyxDQUNoQyxPQUFVLG9EQUNWLEtBQVEsbURBRVQsUyIsInNvdXJjZXMiOlsiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL3N0dWRpZXMvZGVuZHJvZ3JhbS9zcmMvd2ViZ2wtbmV1cm9uLXNlbGVjdG9yL3BhaW50ZXIvY2FtZXJhLnRzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL3N0dWRpZXMvZGVuZHJvZ3JhbS9zcmMvd2ViZ2wtbmV1cm9uLXNlbGVjdG9yL3BhaW50ZXIvbWF0aC50cyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9zdHVkaWVzL2RlbmRyb2dyYW0vc3JjL3dlYmdsLW5ldXJvbi1zZWxlY3Rvci9wYWludGVyL3RyZWUudHMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvc3R1ZGllcy9kZW5kcm9ncmFtL3NyYy93ZWJnbC1uZXVyb24tc2VsZWN0b3IvcGFpbnRlci9zdHJ1Y3R1cmUudHMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvc3R1ZGllcy9kZW5kcm9ncmFtL3NyYy93ZWJnbC1uZXVyb24tc2VsZWN0b3IvcGFpbnRlci9zZWdtZW50cy50cyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9zdHVkaWVzL2RlbmRyb2dyYW0vc3JjL3dlYmdsLW5ldXJvbi1zZWxlY3Rvci9wYWludGVyL29mZnNjcmVlbi1wYWludGVyL21hdGVyaWFsLWluZGV4LnRzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL3N0dWRpZXMvZGVuZHJvZ3JhbS9zcmMvd2ViZ2wtbmV1cm9uLXNlbGVjdG9yL3BhaW50ZXIvb2Zmc2NyZWVuLXBhaW50ZXIvb2Zmc2NyZWVuLXBhaW50ZXIudHMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvc3R1ZGllcy9kZW5kcm9ncmFtL3NyYy93ZWJnbC1uZXVyb24tc2VsZWN0b3IvcGFpbnRlci9wYWludGVycy9jb250YW50cy50cyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9zdHVkaWVzL2RlbmRyb2dyYW0vc3JjL3dlYmdsLW5ldXJvbi1zZWxlY3Rvci9wYWludGVyL3BhaW50ZXJzL2hpZ2hsaWdodC50cyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9zdHVkaWVzL2RlbmRyb2dyYW0vc3JjL3dlYmdsLW5ldXJvbi1zZWxlY3Rvci9wYWludGVyL3BhaW50ZXJzL3N5bmFwc2VzLnRzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL3N0dWRpZXMvZGVuZHJvZ3JhbS9zcmMvd2ViZ2wtbmV1cm9uLXNlbGVjdG9yL3BhaW50ZXIvcGFpbnRlcnMvcGFpbnRlci50cyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9zdHVkaWVzL2RlbmRyb2dyYW0vc3JjL3dlYmdsLW5ldXJvbi1zZWxlY3Rvci9wYWludGVyL21hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vZGVuZHJvZ3JhbS8uL3NyYy9jb21wb25lbnRzL1ZpZXdlci9WaWV3ZXIubW9kdWxlLmNzcz9lOGIxIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL3N0dWRpZXMvZGVuZHJvZ3JhbS9zcmMvY29tcG9uZW50cy9WaWV3ZXIvVmlld2VyLnRzeCIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9zdHVkaWVzL2RlbmRyb2dyYW0vc3JjL3V0aWwvdXRpbHMudHMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvc3R1ZGllcy9kZW5kcm9ncmFtL3NyYy9hcHAvcGFnZS50c3giLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvc3R1ZGllcy9kZW5kcm9ncmFtL3NyYy9jb21wb25lbnRzL1ZpZXdlci9WaWV3ZXIubW9kdWxlLmNzcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIEFycmF5TnVtYmVyMywgdHlwZSBUZ2RDYW1lcmEsIFRnZENhbWVyYVBlcnNwZWN0aXZlIH0gZnJvbSAnQHRvbG9rb2Jhbi90Z2QnO1xuXG5pbnRlcmZhY2UgQm91bmRpbmdCb3gge1xuICBtaW46IEFycmF5TnVtYmVyMztcbiAgbWF4OiBBcnJheU51bWJlcjM7XG4gIGNlbnRlcjogQXJyYXlOdW1iZXIzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUNhbWVyYSh7XG4gIGJib3gsXG4gIGJib3hTb21hLFxuICBiYm94RGVuZHJpdGVzLFxufToge1xuICBiYm94OiBCb3VuZGluZ0JveDtcbiAgYmJveFNvbWE6IEJvdW5kaW5nQm94O1xuICBiYm94RGVuZHJpdGVzOiBCb3VuZGluZ0JveDtcbn0pOiB7IGNhbWVyYTogVGdkQ2FtZXJhOyB6b29tTWluOiBudW1iZXI7IHpvb21NYXg6IG51bWJlciB9IHtcbiAgY29uc3QgY2FtZXJhID0gbmV3IFRnZENhbWVyYVBlcnNwZWN0aXZlKHtcbiAgICB0cmFuc2ZvOiB7XG4gICAgICBkaXN0YW5jZTogNSxcbiAgICAgIHBvc2l0aW9uOiBiYm94LmNlbnRlcixcbiAgICB9LFxuICAgIG5lYXI6IDEsXG4gIH0pO1xuICBjYW1lcmEuc2NyZWVuSGVpZ2h0ID0gY2FtZXJhLnNjcmVlbldpZHRoO1xuICBjb25zdCBkaXN0YW5jZSA9IGNvbXB1dGVEaXN0YW5jZShjYW1lcmEsIGJib3hEZW5kcml0ZXMsIDEuMSk7XG4gIGNvbnN0IGRpc3RhbmNlTWF4ID0gZW5zdXJlQmlnZ2VyKGRpc3RhbmNlLCBjb21wdXRlRGlzdGFuY2UoY2FtZXJhLCBiYm94LCAxLjUpKTtcbiAgY29uc3QgZGlzdGFuY2VNaW4gPSBlbnN1cmVTbWFsbGVyKGNvbXB1dGVEaXN0YW5jZShjYW1lcmEsIGJib3hTb21hLCAzKSwgZGlzdGFuY2UpO1xuICBjb25zdCB6b29tTWluID0gZGlzdGFuY2UgLyBkaXN0YW5jZU1heDtcbiAgY29uc3Qgem9vbU1heCA9IGRpc3RhbmNlIC8gZGlzdGFuY2VNaW47XG4gIGNhbWVyYS50cmFuc2ZvLmRpc3RhbmNlID0gZGlzdGFuY2U7XG4gIHJldHVybiB7IGNhbWVyYSwgem9vbU1pbiwgem9vbU1heCB9O1xufVxuXG5mdW5jdGlvbiBlbnN1cmVTbWFsbGVyKHZhbHVlOiBudW1iZXIsIGxpbWl0OiBudW1iZXIpIHtcbiAgaWYgKHZhbHVlIDwgbGltaXQpIHJldHVybiB2YWx1ZTtcbiAgcmV0dXJuIGxpbWl0ICogMC45O1xufVxuXG5mdW5jdGlvbiBlbnN1cmVCaWdnZXIodmFsdWU6IG51bWJlciwgbGltaXQ6IG51bWJlcikge1xuICBpZiAodmFsdWUgPiBsaW1pdCkgcmV0dXJuIHZhbHVlO1xuICByZXR1cm4gbGltaXQgKiAxLjE7XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVEaXN0YW5jZShjYW1lcmE6IFRnZENhbWVyYSwgYmJveDogQm91bmRpbmdCb3gsIHNjYWxlOiBudW1iZXIpIHtcbiAgY29uc3Qgd2lkdGggPVxuICAgIDIgKlxuICAgIHNjYWxlICpcbiAgICBNYXRoLm1heCgxLCBNYXRoLmFicyhiYm94LmNlbnRlclswXSAtIGJib3gubWluWzBdKSwgTWF0aC5hYnMoYmJveC5jZW50ZXJbMF0gLSBiYm94Lm1heFswXSkpO1xuICBjb25zdCBoZWlnaHQgPVxuICAgIDIgKlxuICAgIHNjYWxlICpcbiAgICBNYXRoLm1heCgxLCBNYXRoLmFicyhiYm94LmNlbnRlclsxXSAtIGJib3gubWluWzFdKSwgTWF0aC5hYnMoYmJveC5jZW50ZXJbMV0gLSBiYm94Lm1heFsxXSkpO1xuICBjYW1lcmEuZml0U3BhY2VBdFRhcmdldCh3aWR0aCwgaGVpZ2h0KTtcbiAgcmV0dXJuIGNhbWVyYS50cmFuc2ZvLmRpc3RhbmNlO1xufVxuIiwiaW1wb3J0IHsgVGdkVmVjNCwgVGdkQ2FtZXJhLCBUZ2RNYXQ0LCBUZ2RWZWMyLCB0Z2RDYWxjQ2xhbXAgfSBmcm9tICdAdG9sb2tvYmFuL3RnZCc7XG5cbmltcG9ydCB7IFN0cnVjdHVyZSwgU3RydWN0dXJlSXRlbSB9IGZyb20gJy4vc3RydWN0dXJlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVTZWN0aW9uT2Zmc2V0KFxuICBzdHJ1Y3R1cmU6IFN0cnVjdHVyZSxcbiAgaXRlbTogU3RydWN0dXJlSXRlbSxcbiAgY2FtZXJhOiBUZ2RDYW1lcmEsXG4gIHhTY3JlZW46IG51bWJlcixcbiAgeVNjcmVlbjogbnVtYmVyXG4pIHtcbiAgY29uc3Qgb2Zmc2V0U2VnbWVudCA9IGNvbXB1dGVTZWdtZW50T2Zmc2V0KGl0ZW0sIGNhbWVyYSwgeFNjcmVlbiwgeVNjcmVlbik7XG4gIGNvbnN0IHNlZ21lbnRzID0gc3RydWN0dXJlLmdldFNlZ21lbnRzT2ZTZWN0aW9uKGl0ZW0uc2VjdGlvbk5hbWUpO1xuICBsZXQgZGlzdGFuY2UgPSAwO1xuICBsZXQgdG90YWxEaXN0YW5jZSA9IDA7XG4gIGZvciAoY29uc3Qgc2VnbWVudCBvZiBzZWdtZW50cykge1xuICAgIHRvdGFsRGlzdGFuY2UgKz0gc2VnbWVudC5sZW5ndGg7XG4gICAgaWYgKHNlZ21lbnQuc2VnbWVudEluZGV4ID09PSBpdGVtLnNlZ21lbnRJbmRleCkge1xuICAgICAgZGlzdGFuY2UgKz0gc2VnbWVudC5sZW5ndGggKiBvZmZzZXRTZWdtZW50O1xuICAgIH0gZWxzZSBpZiAoc2VnbWVudC5zZWdtZW50SW5kZXggPCBpdGVtLnNlZ21lbnRJbmRleCkge1xuICAgICAgZGlzdGFuY2UgKz0gc2VnbWVudC5sZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiB0b3RhbERpc3RhbmNlID4gMCA/IGRpc3RhbmNlIC8gdG90YWxEaXN0YW5jZSA6IDA7XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVTZWdtZW50T2Zmc2V0KFxuICBpdGVtOiBTdHJ1Y3R1cmVJdGVtLFxuICBjYW1lcmE6IFRnZENhbWVyYSxcbiAgeFNjcmVlbjogbnVtYmVyLFxuICB5U2NyZWVuOiBudW1iZXJcbik6IG51bWJlciB7XG4gIGNvbnN0IHN0YXJ0ID0gbmV3IFRnZFZlYzQoLi4uaXRlbS5zdGFydCwgMSk7XG4gIGNvbnN0IGVuZCA9IG5ldyBUZ2RWZWM0KC4uLml0ZW0uZW5kLCAxKTtcbiAgY29uc3QgbWF0cml4ID0gbmV3IFRnZE1hdDQoY2FtZXJhLm1hdHJpeFByb2plY3Rpb24pLm11bHRpcGx5KGNhbWVyYS5tYXRyaXhNb2RlbFZpZXcpO1xuICBzdGFydC5hcHBseU1hdHJpeChtYXRyaXgpO1xuICBzdGFydC5zY2FsZSgxIC8gc3RhcnQudyk7XG4gIGVuZC5hcHBseU1hdHJpeChtYXRyaXgpO1xuICBlbmQuc2NhbGUoMSAvIGVuZC53KTtcbiAgY29uc3QgdmVjVSA9IG5ldyBUZ2RWZWMyKGVuZC54IC0gc3RhcnQueCwgZW5kLnkgLSBzdGFydC55KTtcbiAgY29uc3QgbGVuZ3RoID0gdmVjVS5zaXplO1xuICB2ZWNVLm5vcm1hbGl6ZSgpO1xuICBjb25zdCB2ZWNWID0gbmV3IFRnZFZlYzIoeFNjcmVlbiAtIHN0YXJ0LngsIHlTY3JlZW4gLSBzdGFydC55KTtcbiAgY29uc3QgZGlzdGFuY2UgPSB2ZWNVLmRvdCh2ZWNWKTtcbiAgcmV0dXJuIHRnZENhbGNDbGFtcChsZW5ndGggPiAwID8gZGlzdGFuY2UgLyBsZW5ndGggOiAwLCAwLCAxKTtcbn1cbiIsImltcG9ydCB0eXBlIHsgQXJyYXlOdW1iZXIzIH0gZnJvbSBcIkB0b2xva29iYW4vdGdkXCJcbmltcG9ydCB7IFN0cnVjdHVyZUl0ZW0sIFN0cnVjdHVyZUl0ZW1UeXBlIH0gZnJvbSBcIi4vc3RydWN0dXJlXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxUcmVlKGl0ZW1zOiBTdHJ1Y3R1cmVJdGVtW10pOiBTdHJ1Y3R1cmVJdGVtIHtcbiAgICBjb25zdCBtYXAgPSBuZXcgTWFwPHN0cmluZywgU3RydWN0dXJlSXRlbT4oKVxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykgbWFwLnNldChrZXkzRChpdGVtLmVuZCksIGl0ZW0pXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgIGlmIChpdGVtLnBhcmVudCkgY29udGludWVcblxuICAgICAgICBjb25zdCBwYXJlbnQgPSBtYXAuZ2V0KGtleTNEKGl0ZW0uc3RhcnQpKVxuICAgICAgICBpZiAoIXBhcmVudCkgY29udGludWVcblxuICAgICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaChpdGVtKVxuICAgICAgICBpdGVtLnBhcmVudCA9IHBhcmVudFxuICAgIH1cbiAgICAvLyBSb290czogaXRlbXMgd2l0aG91dCBwYXJlbnRzLlxuICAgIGNvbnN0IFtyb290LCAuLi5vcnBoYW5zXSA9IGl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gIWl0ZW0ucGFyZW50KVxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBvcnBoYW5zKSB7XG4gICAgICAgIHJvb3QuY2hpbGRyZW4ucHVzaChpdGVtKVxuICAgICAgICBpdGVtLnBhcmVudCA9IHJvb3RcbiAgICB9XG4gICAgcG9wdWxhdGVUcmVlKHJvb3QpXG4gICAgY29tcHV0ZVJhbmtzKHJvb3QpXG4gICAgYWRkTGlhaXNvbnMocm9vdCwgaXRlbXMpXG4gICAgcmV0dXJuIHJvb3Rcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlYnVnVHJlZShpdGVtOiBTdHJ1Y3R1cmVJdGVtLCBkZXB0aCA9IDApIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKGAke1wifCBcIi5yZXBlYXQoZGVwdGgpfSR7aXRlbS5uYW1lfWApXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgaXRlbS5jaGlsZHJlbikgZGVidWdUcmVlKGNoaWxkLCBkZXB0aCArIDEpXG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihleClcbiAgICAgICAgY29uc29sZS5lcnJvcihpdGVtKVxuICAgIH1cbn1cblxuZnVuY3Rpb24ga2V5M0QoW3gsIHksIHpdOiBBcnJheU51bWJlcjMpIHtcbiAgICBjb25zdCBQUkVDSVNJT04gPSAzXG4gICAgcmV0dXJuIGAke3gudG9GaXhlZChQUkVDSVNJT04pfS8ke3kudG9GaXhlZChQUkVDSVNJT04pfS8ke3oudG9GaXhlZChQUkVDSVNJT04pfWBcbn1cblxuZnVuY3Rpb24gcG9wdWxhdGVUcmVlKGl0ZW06IFN0cnVjdHVyZUl0ZW0sIGRpc3RhbmNlID0gMCkge1xuICAgIGlmICghaXRlbSkgcmV0dXJuXG5cbiAgICBpdGVtLmRpc3RhbmNlRnJvbVNvbWEgPSBkaXN0YW5jZVxuICAgIGNvbnN0IG5ld0Rpc3RhbmNlID0gZGlzdGFuY2UgKyBpdGVtLmxlbmd0aFxuICAgIGl0ZW0ubGVhdmVzQ291bnQgPSBpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDAgPyAwIDogMVxuICAgIGl0ZW0ubWF4TGVuZ3RoID0gMFxuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgaXRlbS5jaGlsZHJlbikge1xuICAgICAgICBwb3B1bGF0ZVRyZWUoY2hpbGQsIG5ld0Rpc3RhbmNlKVxuICAgICAgICBpdGVtLmxlYXZlc0NvdW50ICs9IGNoaWxkLmxlYXZlc0NvdW50XG4gICAgICAgIGl0ZW0ubWF4TGVuZ3RoID0gTWF0aC5tYXgoaXRlbS5tYXhMZW5ndGgsIGNoaWxkLm1heExlbmd0aClcbiAgICB9XG4gICAgaXRlbS5tYXhMZW5ndGggKz0gaXRlbS5sZW5ndGhcbn1cblxuZnVuY3Rpb24gY29tcHV0ZVJhbmtzKGl0ZW06IFN0cnVjdHVyZUl0ZW0sIHJhbmtNaW4gPSAtMSwgcmFua01heCA9ICsxKSB7XG4gICAgaWYgKCFpdGVtKSByZXR1cm5cblxuICAgIGl0ZW0ucmFuayA9IChyYW5rTWluICsgcmFua01heCkgLyAyXG4gICAgY29uc3QgcmFua1NpemUgPSBNYXRoLmFicyhyYW5rTWF4IC0gcmFua01pbilcbiAgICBsZXQgcmFuayA9IHJhbmtNaW5cbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGl0ZW0uY2hpbGRyZW4pIHtcbiAgICAgICAgY29uc3QgcmFua0NoaWxkU2l6ZSA9IChyYW5rU2l6ZSAqIGNoaWxkLmxlYXZlc0NvdW50KSAvIGl0ZW0ubGVhdmVzQ291bnRcbiAgICAgICAgY29tcHV0ZVJhbmtzKGNoaWxkLCByYW5rLCByYW5rICsgcmFua0NoaWxkU2l6ZSlcbiAgICAgICAgcmFuayArPSByYW5rQ2hpbGRTaXplXG4gICAgfVxufVxuXG4vKipcbiAqIFdlIHdhbnQgdG8gYmUgYWJsZSB0byB0cmFuc2l0aW9uIHNtb290aGx5IGJldHdlZW4gdGhlIDNEIHZpZXcgYW5kIHRoZSBkZW5kcm9ncmFtIHZpZXcuXG4gKiBUaGF0J3Mgd2h5IHdlIG5lZWQgdG8gaGF2ZSB0aGUgZXhhY3Qgc2FtZSBudW1iZXIgb2Ygc2VnbWVudHMgaW4gYm90aCB2aWV3cy5cbiAqIFRoZSBgbGlhaXNvbnNgIGFyZSBub24taW50ZXJhY3RpdmUgaG9yaXpvbnRhbCBzZWdtZW50cywgdGhhdCB3aWxsIG9ueSBoYXZlIGEgbm9uLW51bGwgbGVuZ3RoXG4gKiBpbiBkZW5kcm9ncmFtIG1vZGUuXG4gKi9cbmZ1bmN0aW9uIGFkZExpYWlzb25zKHJvb3Q6IFN0cnVjdHVyZUl0ZW0sIGl0ZW1zOiBTdHJ1Y3R1cmVJdGVtW10pIHtcbiAgICBpZiAoIXJvb3QpIHJldHVyblxuXG4gICAgaWYgKHJvb3QuY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcm9vdC5jaGlsZHJlbi5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gcm9vdC5jaGlsZHJlbltpbmRleF1cbiAgICAgICAgICAgIGNvbnN0IGxpYWlzb246IFN0cnVjdHVyZUl0ZW0gPSB7XG4gICAgICAgICAgICAgICAgLi4uY2hpbGQsXG4gICAgICAgICAgICAgICAgbmFtZTogYCR7cm9vdC5uYW1lfSA+ICR7Y2hpbGQubmFtZX1gLFxuICAgICAgICAgICAgICAgIHR5cGU6IFN0cnVjdHVyZUl0ZW1UeXBlLkxpYWlzb24sXG4gICAgICAgICAgICAgICAgc3RhcnQ6IFsuLi5yb290LmVuZF0sXG4gICAgICAgICAgICAgICAgZW5kOiBbLi4uY2hpbGQuc3RhcnRdLFxuICAgICAgICAgICAgICAgIHJhZGl1czogMWUtMyxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogW2NoaWxkXSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW1zLnB1c2gobGlhaXNvbilcbiAgICAgICAgICAgIHJvb3QuY2hpbGRyZW5baW5kZXhdID0gbGlhaXNvblxuICAgICAgICAgICAgYWRkTGlhaXNvbnMoY2hpbGQsIGl0ZW1zKVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiByb290LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBhZGRMaWFpc29ucyhjaGlsZCwgaXRlbXMpXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyB0eXBlIEFycmF5TnVtYmVyMywgVGdkVmVjMyB9IGZyb20gXCJAdG9sb2tvYmFuL3RnZFwiXG5cbmltcG9ydCB0eXBlIHsgTW9ycGhvbG9neSB9IGZyb20gXCIuLi90eXBlc1wiXG5pbXBvcnQgeyBidWlsVHJlZSwgZGVidWdUcmVlIH0gZnJvbSBcIi4vdHJlZVwiXG5cbmV4cG9ydCBlbnVtIFN0cnVjdHVyZUl0ZW1UeXBlIHtcbiAgICBTb21hID0gMCxcbiAgICAvKipcbiAgICAgKiBXZSBtYWtlIGEgZGlmZmVyZW5jZSBiZXR3ZWVuIERlbmRyaXRlIGFuZCBCYXNhbERlbmRyaXRlLlxuICAgICAqIElmIHRoZSBtb3JwaG9sb2d5IGhhcyBubyBBcGljYWxEZW5kcml0ZSwgdGhlbiB0aGUgYmFzYWwgZGVuZHJpdGVzXG4gICAgICogYXJlIGNhbGxlZCBzaW1wbHkgRGVuZHJpdGUuXG4gICAgICovXG4gICAgRGVuZHJpdGUsXG4gICAgQmFzYWxEZW5kcml0ZSxcbiAgICBBcGljYWxEZW5kcml0ZSxcbiAgICBNeWVsaW4sXG4gICAgQXhvbixcbiAgICBTZWxlY3RlZCxcbiAgICAvKipcbiAgICAgKiBDYW4gYmUgdXNlZCBmb3IgaG9yaXpvbnRhbCBsaW5lcyBpbiBkZW5kcm9ncmFtIG1vZGUuXG4gICAgICogU3VjaCBzZWdtZW50cyBhcmUgbm90IGludGVyYWN0aXZlLlxuICAgICAqL1xuICAgIExpYWlzb24sXG4gICAgVW5rbm93bixcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU3RydWN0dXJlSXRlbSB7XG4gICAgcGFyZW50PzogU3RydWN0dXJlSXRlbVxuICAgIGNoaWxkcmVuOiBTdHJ1Y3R1cmVJdGVtW11cbiAgICBpbmRleDogbnVtYmVyXG4gICAgbmFtZTogc3RyaW5nXG4gICAgc2VjdGlvbk5hbWU6IHN0cmluZ1xuICAgIHNlY3Rpb25JbmRleDogbnVtYmVyXG4gICAgc2VnbWVudEluZGV4OiBudW1iZXJcbiAgICBzZWdtZW50c0NvdW50OiBudW1iZXJcbiAgICBzdGFydDogQXJyYXlOdW1iZXIzXG4gICAgZW5kOiBBcnJheU51bWJlcjNcbiAgICByYWRpdXM6IG51bWJlclxuICAgIHR5cGU6IFN0cnVjdHVyZUl0ZW1UeXBlXG4gICAgbGVuZ3RoOiBudW1iZXJcbiAgICBkaXN0YW5jZUZyb21Tb21hOiBudW1iZXJcbiAgICBsZWF2ZXNDb3VudDogbnVtYmVyXG4gICAgbWF4TGVuZ3RoOiBudW1iZXJcbiAgICAvKipcbiAgICAgKiBWYWx1ZSBiZXR3ZWVuIC0xLjAgYW5kICsxLjBcbiAgICAgKlxuICAgICAqIFVzZWQgZm9yIGRlbmRyb2dyYW1zLlxuICAgICAqL1xuICAgIHJhbms6IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdHVyZUJvdW5kaW5nQm94IHtcbiAgICBtaW46IEFycmF5TnVtYmVyM1xuICAgIG1heDogQXJyYXlOdW1iZXIzXG4gICAgY2VudGVyOiBBcnJheU51bWJlcjNcbn1cblxuZXhwb3J0IGNsYXNzIFN0cnVjdHVyZSB7XG4gICAgcHVibGljIHJlYWRvbmx5IHJvb3Q6IFN0cnVjdHVyZUl0ZW1cblxuICAgIHB1YmxpYyByZWFkb25seSBiYm94OiBTdHJ1Y3R1cmVCb3VuZGluZ0JveFxuXG4gICAgLyoqXG4gICAgICogQm91bmRpbmcgYm94IG9mIHRoZSBheG9uXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IGJib3hTb21hOiBTdHJ1Y3R1cmVCb3VuZGluZ0JveFxuXG4gICAgLyoqXG4gICAgICogQm91bmRpbmcgYm94IG9mIHRoZSBkZW5kcml0ZXMgb25seSAobm8gYXhvbiBub3IgbXllbGluKVxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkb25seSBiYm94RGVuZHJpdGVzOiBTdHJ1Y3R1cmVCb3VuZGluZ0JveFxuXG4gICAgcHVibGljIHJlYWRvbmx5IGhhc0FwaWNhbERlbmRyaXRlczogYm9vbGVhblxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBpdGVtczogU3RydWN0dXJlSXRlbVtdID0gW11cblxuICAgIHByaXZhdGUgcmVhZG9ubHkgc2VnbWVudHMgPSBuZXcgTWFwPHN0cmluZywgU3RydWN0dXJlSXRlbT4oKVxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBzZWdtZW50c1BlclNlY3Rpb24gPSBuZXcgTWFwPHN0cmluZywgU3RydWN0dXJlSXRlbVtdPigpXG5cbiAgICBjb25zdHJ1Y3Rvcihtb3JwaG9sb2d5OiBNb3JwaG9sb2d5KSB7XG4gICAgICAgIGNvbnN0IGJib3g6IFN0cnVjdHVyZUJvdW5kaW5nQm94ID0gY3JlYXRlSW5pdGlhbEJCb3goKVxuICAgICAgICBjb25zdCBiYm94U29tYTogU3RydWN0dXJlQm91bmRpbmdCb3ggPSBjcmVhdGVJbml0aWFsQkJveCgpXG4gICAgICAgIGNvbnN0IGJib3hEZW5kcml0ZXM6IFN0cnVjdHVyZUJvdW5kaW5nQm94ID0gY3JlYXRlSW5pdGlhbEJCb3goKVxuICAgICAgICB0aGlzLmJib3ggPSBiYm94XG4gICAgICAgIHRoaXMuYmJveFNvbWEgPSBiYm94U29tYVxuICAgICAgICB0aGlzLmJib3hEZW5kcml0ZXMgPSBiYm94RGVuZHJpdGVzXG4gICAgICAgIGxldCBpc0JCb3hTb21hRW1wdHkgPSB0cnVlXG4gICAgICAgIGxldCBpc0JCb3hEZW5kcml0ZXNFbXB0eSA9IHRydWVcbiAgICAgICAgbGV0IHNvbWFDb3VudHMgPSAwXG4gICAgICAgIGNvbnN0IHNvbWFDZW50ZXIgPSBuZXcgVGdkVmVjMygpXG4gICAgICAgIGNvbnN0IHNlY3Rpb25OYW1lcyA9IE9iamVjdC5rZXlzKG1vcnBob2xvZ3kpXG4gICAgICAgIGxldCBoYXNBcGljYWxEZW5kcml0ZXMgPSBmYWxzZVxuICAgICAgICBmb3IgKGNvbnN0IHNlY3Rpb25OYW1lIG9mIHNlY3Rpb25OYW1lcykge1xuICAgICAgICAgICAgY29uc3QgaXNTb21hID0gc2VjdGlvbk5hbWUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKFwic29tYVwiKVxuICAgICAgICAgICAgY29uc3Qgc2VjdGlvbiA9IG1vcnBob2xvZ3lbc2VjdGlvbk5hbWVdXG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgIGxldCBzZWdtZW50SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIHNlZ21lbnRJbmRleCA8IHNlY3Rpb24ubnNlZztcbiAgICAgICAgICAgICAgICBzZWdtZW50SW5kZXgrK1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQ6IEFycmF5TnVtYmVyMyA9IFtcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbi54c3RhcnRbc2VnbWVudEluZGV4XSxcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbi55c3RhcnRbc2VnbWVudEluZGV4XSxcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbi56c3RhcnRbc2VnbWVudEluZGV4XSxcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgY29uc3QgZW5kOiBBcnJheU51bWJlcjMgPSBbXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb24ueGVuZFtzZWdtZW50SW5kZXhdLFxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uLnllbmRbc2VnbWVudEluZGV4XSxcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbi56ZW5kW3NlZ21lbnRJbmRleF0sXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSByZXNvbHZlVHlwZShzZWN0aW9uTmFtZSlcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gU3RydWN0dXJlSXRlbVR5cGUuQXBpY2FsRGVuZHJpdGUpXG4gICAgICAgICAgICAgICAgICAgIGhhc0FwaWNhbERlbmRyaXRlcyA9IHRydWVcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtOiBTdHJ1Y3R1cmVJdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICBlbmQsXG4gICAgICAgICAgICAgICAgICAgIHJhZGl1czogc2VjdGlvbi5kaWFtW3NlZ21lbnRJbmRleF0gLyAyLFxuICAgICAgICAgICAgICAgICAgICBpbmRleDogdGhpcy5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGAke3NlY3Rpb25OYW1lfVske3NlZ21lbnRJbmRleH1dYCxcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbk5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb25JbmRleDogcmVzb2x2ZVNlY3Rpb25JbmRleChzZWN0aW9uTmFtZSksXG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnRJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgc2VnbWVudHNDb3VudDogc2VjdGlvbi5uc2VnLFxuICAgICAgICAgICAgICAgICAgICBsZW5ndGg6IHNlY3Rpb24ubGVuZ3RoW3NlZ21lbnRJbmRleF0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlRnJvbVNvbWE6IDAsXG4gICAgICAgICAgICAgICAgICAgIGxlYXZlc0NvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgIHJhbms6IDAsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2VnbWVudHMuc2V0KGl0ZW0ubmFtZSwgaXRlbSlcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFRvU2VjdGlvbihpdGVtKVxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaChpdGVtKVxuICAgICAgICAgICAgICAgIGJib3gubWluID0gY29tcHV0ZU1pbihiYm94Lm1pbiwgc3RhcnQsIGl0ZW0ucmFkaXVzKVxuICAgICAgICAgICAgICAgIGJib3gubWF4ID0gY29tcHV0ZU1heChiYm94Lm1heCwgc3RhcnQsIGl0ZW0ucmFkaXVzKVxuICAgICAgICAgICAgICAgIGJib3gubWluID0gY29tcHV0ZU1pbihiYm94Lm1pbiwgZW5kLCBpdGVtLnJhZGl1cylcbiAgICAgICAgICAgICAgICBiYm94Lm1heCA9IGNvbXB1dGVNYXgoYmJveC5tYXgsIGVuZCwgaXRlbS5yYWRpdXMpXG4gICAgICAgICAgICAgICAgaWYgKGlzU29tYSkge1xuICAgICAgICAgICAgICAgICAgICBzb21hQ291bnRzKytcbiAgICAgICAgICAgICAgICAgICAgc29tYUNlbnRlci5hZGQoc3RhcnQpXG4gICAgICAgICAgICAgICAgICAgIHNvbWFDb3VudHMrK1xuICAgICAgICAgICAgICAgICAgICBzb21hQ2VudGVyLmFkZChlbmQpXG4gICAgICAgICAgICAgICAgICAgIGJib3hTb21hLm1pbiA9IGNvbXB1dGVNaW4oYmJveFNvbWEubWluLCBzdGFydCwgaXRlbS5yYWRpdXMpXG4gICAgICAgICAgICAgICAgICAgIGJib3hTb21hLm1heCA9IGNvbXB1dGVNYXgoYmJveFNvbWEubWF4LCBzdGFydCwgaXRlbS5yYWRpdXMpXG4gICAgICAgICAgICAgICAgICAgIGJib3hTb21hLm1pbiA9IGNvbXB1dGVNaW4oYmJveFNvbWEubWluLCBlbmQsIGl0ZW0ucmFkaXVzKVxuICAgICAgICAgICAgICAgICAgICBiYm94U29tYS5tYXggPSBjb21wdXRlTWF4KGJib3hTb21hLm1heCwgZW5kLCBpdGVtLnJhZGl1cylcbiAgICAgICAgICAgICAgICAgICAgaXNCQm94U29tYUVtcHR5ID0gZmFsc2VcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RydWN0dXJlSXRlbVR5cGUuRGVuZHJpdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RydWN0dXJlSXRlbVR5cGUuQmFzYWxEZW5kcml0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJ1Y3R1cmVJdGVtVHlwZS5BcGljYWxEZW5kcml0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJ1Y3R1cmVJdGVtVHlwZS5Tb21hLFxuICAgICAgICAgICAgICAgICAgICAgICAgXS5pbmNsdWRlcyh0eXBlKVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJib3hEZW5kcml0ZXMubWluID0gY29tcHV0ZU1pbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYm94RGVuZHJpdGVzLm1pbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnJhZGl1c1xuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgYmJveERlbmRyaXRlcy5tYXggPSBjb21wdXRlTWF4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJib3hEZW5kcml0ZXMubWF4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucmFkaXVzXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICBiYm94RGVuZHJpdGVzLm1pbiA9IGNvbXB1dGVNaW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmJveERlbmRyaXRlcy5taW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucmFkaXVzXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICBiYm94RGVuZHJpdGVzLm1heCA9IGNvbXB1dGVNYXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmJveERlbmRyaXRlcy5tYXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucmFkaXVzXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0JCb3hEZW5kcml0ZXNFbXB0eSA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoYXNBcGljYWxEZW5kcml0ZXMpIHtcbiAgICAgICAgICAgIC8vIElmIG5vIGFwaWNhbCBkZW5kcml0ZSwgdGhlbiB3ZSBuZWVkIHRvIGRpc3BsYXkgRGVuZHJpdGUgaW5zdGVhZCBvZiBCYXNhbERlbmRyaXRlLlxuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMuaXRlbXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSBTdHJ1Y3R1cmVJdGVtVHlwZS5CYXNhbERlbmRyaXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0udHlwZSA9IFN0cnVjdHVyZUl0ZW1UeXBlLkRlbmRyaXRlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzb21hQ291bnRzID4gMCkgc29tYUNlbnRlci5zY2FsZSgxIC8gc29tYUNvdW50cylcbiAgICAgICAgYmJveC5jZW50ZXIgPSBbLi4uc29tYUNlbnRlcl0gYXMgQXJyYXlOdW1iZXIzXG4gICAgICAgIHRoaXMuaGFzQXBpY2FsRGVuZHJpdGVzID0gaGFzQXBpY2FsRGVuZHJpdGVzXG4gICAgICAgIGlmIChpc0JCb3hTb21hRW1wdHkpIGNvcHlCQm94SW50byhiYm94LCBiYm94U29tYSlcbiAgICAgICAgaWYgKGlzQkJveERlbmRyaXRlc0VtcHR5KSBjb3B5QkJveEludG8oYmJveCwgYmJveERlbmRyaXRlcylcbiAgICAgICAgdGhpcy5yb290ID0gYnVpbFRyZWUodGhpcy5pdGVtcylcbiAgICB9XG5cbiAgICBnZXRTZWdtZW50c09mU2VjdGlvbihzZWN0aW9uTmFtZTogc3RyaW5nKTogU3RydWN0dXJlSXRlbVtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VnbWVudHNQZXJTZWN0aW9uLmdldChzZWN0aW9uTmFtZSkgPz8gW11cbiAgICB9XG5cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVtcy5sZW5ndGhcbiAgICB9XG5cbiAgICBnZXQoaW5kZXg6IG51bWJlcik6IFN0cnVjdHVyZUl0ZW0ge1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5pdGVtc1tpbmRleF1cbiAgICAgICAgaWYgKCFpdGVtKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgYEluZGV4ICgke2luZGV4fSkgb3V0IG9mIGJvdW5kcyEgSXRlbXMgYXZhaWxhYmxlOiAke3RoaXMubGVuZ3RofS5gXG4gICAgICAgICAgICApXG5cbiAgICAgICAgcmV0dXJuIGl0ZW1cbiAgICB9XG5cbiAgICBmb3JFYWNoKGNhbGxiYWNrOiAoaXRlbTogU3RydWN0dXJlSXRlbSwgaW5kZXg6IG51bWJlcikgPT4gdm9pZCkge1xuICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goY2FsbGJhY2spXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGRUb1NlY3Rpb24oaXRlbTogU3RydWN0dXJlSXRlbSkge1xuICAgICAgICBjb25zdCBzZWN0aW9uRnJvbU1hcCA9IHRoaXMuc2VnbWVudHNQZXJTZWN0aW9uLmdldChpdGVtLnNlY3Rpb25OYW1lKVxuICAgICAgICBpZiAoc2VjdGlvbkZyb21NYXApIHtcbiAgICAgICAgICAgIHNlY3Rpb25Gcm9tTWFwLnB1c2goaXRlbSlcbiAgICAgICAgICAgIHNlY3Rpb25Gcm9tTWFwLnNvcnQoXG4gICAgICAgICAgICAgICAgKHsgc2VnbWVudEluZGV4OiBhIH0sIHsgc2VnbWVudEluZGV4OiBiIH0pID0+IGEgLSBiXG4gICAgICAgICAgICApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNlZ21lbnRzUGVyU2VjdGlvbi5zZXQoaXRlbS5zZWN0aW9uTmFtZSwgW2l0ZW1dKVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjb21wdXRlTWluKFxuICAgIHByZXY6IEFycmF5TnVtYmVyMyxcbiAgICBjdXJyOiBBcnJheU51bWJlcjMsXG4gICAgcmFkaXVzID0gMFxuKTogQXJyYXlOdW1iZXIzIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBNYXRoLm1pbihwcmV2WzBdLCBjdXJyWzBdIC0gcmFkaXVzKSxcbiAgICAgICAgTWF0aC5taW4ocHJldlsxXSwgY3VyclsxXSAtIHJhZGl1cyksXG4gICAgICAgIE1hdGgubWluKHByZXZbMl0sIGN1cnJbMl0gLSByYWRpdXMpLFxuICAgIF1cbn1cblxuZnVuY3Rpb24gY29tcHV0ZU1heChcbiAgICBwcmV2OiBBcnJheU51bWJlcjMsXG4gICAgY3VycjogQXJyYXlOdW1iZXIzLFxuICAgIHJhZGl1cyA9IDBcbik6IEFycmF5TnVtYmVyMyB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgTWF0aC5tYXgocHJldlswXSwgY3VyclswXSArIHJhZGl1cyksXG4gICAgICAgIE1hdGgubWF4KHByZXZbMV0sIGN1cnJbMV0gKyByYWRpdXMpLFxuICAgICAgICBNYXRoLm1heChwcmV2WzJdLCBjdXJyWzJdICsgcmFkaXVzKSxcbiAgICBdXG59XG5cbmZ1bmN0aW9uIHJlc29sdmVUeXBlKHNlY3Rpb25OYW1lOiBzdHJpbmcpOiBTdHJ1Y3R1cmVJdGVtVHlwZSB7XG4gICAgY29uc3QgcHJlZml4ID0gc2VjdGlvbk5hbWUuc2xpY2UoMCwgNCkudG9Mb3dlckNhc2UoKVxuICAgIHN3aXRjaCAocHJlZml4KSB7XG4gICAgICAgIGNhc2UgXCJzb21hXCI6XG4gICAgICAgICAgICByZXR1cm4gU3RydWN0dXJlSXRlbVR5cGUuU29tYVxuICAgICAgICBjYXNlIFwiYXhvblwiOlxuICAgICAgICAgICAgcmV0dXJuIFN0cnVjdHVyZUl0ZW1UeXBlLkF4b25cbiAgICAgICAgY2FzZSBcImRlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBTdHJ1Y3R1cmVJdGVtVHlwZS5CYXNhbERlbmRyaXRlXG4gICAgICAgIGNhc2UgXCJhcGljXCI6XG4gICAgICAgICAgICByZXR1cm4gU3RydWN0dXJlSXRlbVR5cGUuQXBpY2FsRGVuZHJpdGVcbiAgICAgICAgY2FzZSBcIm15ZWxcIjpcbiAgICAgICAgICAgIHJldHVybiBTdHJ1Y3R1cmVJdGVtVHlwZS5NeWVsaW5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBTdHJ1Y3R1cmVJdGVtVHlwZS5Vbmtub3duXG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBzZWN0aW9uIGluZGV4IGlzIGF0IHRoZSBlbmQgb2YgdGhlIG5hbWUsIHN1cnJvdW5kZWQgYnkgc3F1YXJlIGJyYWNrZXRzLlxuICpcbiAqIEV4YW1wbGU6IGBkZW5kWzMyXWBcbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZVNlY3Rpb25JbmRleChzZWN0aW9uTmFtZTogc3RyaW5nKTogbnVtYmVyIHtcbiAgICBjb25zdCBpID0gc2VjdGlvbk5hbWUuaW5kZXhPZihcIltcIilcbiAgICBjb25zdCBzdWZmaXggPSBzZWN0aW9uTmFtZS5zbGljZShpICsgMSlcbiAgICByZXR1cm4gcGFyc2VJbnQoc3VmZml4LnNsaWNlKDAsIHN1ZmZpeC5sZW5ndGggLSAxKSwgMTApXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUluaXRpYWxCQm94KCk6IFN0cnVjdHVyZUJvdW5kaW5nQm94IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBtaW46IFtcbiAgICAgICAgICAgIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgXSxcbiAgICAgICAgbWF4OiBbXG4gICAgICAgICAgICBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksXG4gICAgICAgIF0sXG4gICAgICAgIGNlbnRlcjogWzAsIDAsIDBdLFxuICAgIH1cbn1cblxuZnVuY3Rpb24gY29weUJCb3hJbnRvKGZyb206IFN0cnVjdHVyZUJvdW5kaW5nQm94LCB0bzogU3RydWN0dXJlQm91bmRpbmdCb3gpIHtcbiAgICB0by5jZW50ZXIgPSBbLi4uZnJvbS5jZW50ZXJdXG4gICAgdG8ubWF4ID0gWy4uLmZyb20ubWF4XVxuICAgIHRvLm1pbiA9IFsuLi5mcm9tLm1pbl1cbn1cbiIsImltcG9ydCB7XG4gICAgdHlwZSBBcnJheU51bWJlcjIsXG4gICAgQXJyYXlOdW1iZXIzLFxuICAgIFRnZFBhaW50ZXJTZWdtZW50c0RhdGEsXG59IGZyb20gXCJAdG9sb2tvYmFuL3RnZFwiXG5cbmltcG9ydCB7IHR5cGUgU3RydWN0dXJlLCBTdHJ1Y3R1cmVJdGVtLCBTdHJ1Y3R1cmVJdGVtVHlwZSB9IGZyb20gXCIuL3N0cnVjdHVyZVwiXG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlU2VnbWVudHMzRChzdHJ1Y3R1cmU6IFN0cnVjdHVyZSkge1xuICAgIGNvbnN0IHNlZ21lbnRzID0gbmV3IFRnZFBhaW50ZXJTZWdtZW50c0RhdGEoKVxuICAgIHN0cnVjdHVyZS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IHV2OiBBcnJheU51bWJlcjIgPSBbXG4gICAgICAgICAgICAoaXRlbS50eXBlICsgMC41KSAvIChTdHJ1Y3R1cmVJdGVtVHlwZS5Vbmtub3duICsgMSksXG4gICAgICAgICAgICAoaXRlbS5pbmRleCArIDEuNSkgLyAoc3RydWN0dXJlLmxlbmd0aCArIDIpLFxuICAgICAgICBdXG4gICAgICAgIHNlZ21lbnRzLmFkZChcbiAgICAgICAgICAgIFsuLi5pdGVtLnN0YXJ0LCBpdGVtLnJhZGl1c10sXG4gICAgICAgICAgICBbLi4uaXRlbS5lbmQsIGl0ZW0ucmFkaXVzXSxcbiAgICAgICAgICAgIHV2LFxuICAgICAgICAgICAgdXZcbiAgICAgICAgKVxuICAgIH0pXG4gICAgcmV0dXJuIHNlZ21lbnRzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlU2VnbWVudHNEZW5kcm9ncmFtKHN0cnVjdHVyZTogU3RydWN0dXJlKSB7XG4gICAgY29uc3Qgd2lkdGggPSBNYXRoLmFicyhzdHJ1Y3R1cmUuYmJveC5tYXhbMF0gLSBzdHJ1Y3R1cmUuYmJveC5taW5bMF0pXG4gICAgY29uc29sZS5sb2coXCLwn5CeIFtzZWdtZW50c0AyOF0gc3RydWN0dXJlID1cIiwgc3RydWN0dXJlKSAvLyBARklYTUU6IFJlbW92ZSB0aGlzIGxpbmUgd3JpdHRlbiBvbiAyMDI2LTAyLTA0IGF0IDE1OjQzXG4gICAgY29uc29sZS5sb2coXCLwn5CeIFtzZWdtZW50c0AyOV0gd2lkdGggPVwiLCB3aWR0aCkgLy8gQEZJWE1FOiBSZW1vdmUgdGhpcyBsaW5lIHdyaXR0ZW4gb24gMjAyNi0wMi0wNCBhdCAxNTo0M1xuICAgIGNvbnN0IHNlZ21lbnRzID0gbmV3IFRnZFBhaW50ZXJTZWdtZW50c0RhdGEoKVxuICAgIHN0cnVjdHVyZS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IHV2OiBBcnJheU51bWJlcjIgPSBbXG4gICAgICAgICAgICAoaXRlbS50eXBlICsgMC41KSAvIChTdHJ1Y3R1cmVJdGVtVHlwZS5Vbmtub3duICsgMSksXG4gICAgICAgICAgICAoaXRlbS5pbmRleCArIDEuNSkgLyAoc3RydWN0dXJlLmxlbmd0aCArIDIpLFxuICAgICAgICBdXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gY29tcHV0ZURlbmRyb2dyYW1TdGFydChpdGVtLCB3aWR0aClcbiAgICAgICAgY29uc3QgZW5kID0gY29tcHV0ZURlbmRyb2dyYW1FbmQoaXRlbSwgd2lkdGgpXG4gICAgICAgIGNvbnN0IHNlZ21lbnQgPSBzZWdtZW50cy5hZGQoXG4gICAgICAgICAgICBbLi4uc3RhcnQsIGl0ZW0ucmFkaXVzXSxcbiAgICAgICAgICAgIFsuLi5lbmQsIGl0ZW0ucmFkaXVzXSxcbiAgICAgICAgICAgIHV2LFxuICAgICAgICAgICAgdXZcbiAgICAgICAgKVxuICAgICAgICBpZiAoaXRlbS50eXBlID09PSBTdHJ1Y3R1cmVJdGVtVHlwZS5MaWFpc29uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCfkJ4gW3NlZ21lbnRzQDQwXSBzZWdtZW50LCBpdGVtID1cIiwgc2VnbWVudCwgaXRlbSkgLy8gQEZJWE1FOiBSZW1vdmUgdGhpcyBsaW5lIHdyaXR0ZW4gb24gMjAyNi0wMi0wNCBhdCAxNjoxNlxuICAgICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gc2VnbWVudHNcbn1cblxuZnVuY3Rpb24gY29tcHV0ZURlbmRyb2dyYW1TdGFydChcbiAgICBpdGVtOiBTdHJ1Y3R1cmVJdGVtLFxuICAgIHdpZHRoOiBudW1iZXJcbik6IEFycmF5TnVtYmVyMyB7XG4gICAgaWYgKGl0ZW0udHlwZSA9PT0gU3RydWN0dXJlSXRlbVR5cGUuTGlhaXNvbikge1xuICAgICAgICByZXR1cm4gY29tcHV0ZURlbmRyb2dyYW1FbmQoaXRlbS5wYXJlbnQgPz8gaXRlbSwgd2lkdGgpXG4gICAgfVxuICAgIGNvbnN0IHggPSBpdGVtLnJhbmsgKiB3aWR0aFxuICAgIGNvbnN0IHkgPSBpdGVtLmRpc3RhbmNlRnJvbVNvbWFcbiAgICBjb25zdCB6ID0gMFxuICAgIHJldHVybiBbeCwgeSwgel1cbn1cblxuZnVuY3Rpb24gY29tcHV0ZURlbmRyb2dyYW1FbmQoXG4gICAgaXRlbTogU3RydWN0dXJlSXRlbSxcbiAgICB3aWR0aDogbnVtYmVyXG4pOiBBcnJheU51bWJlcjMge1xuICAgIGlmIChpdGVtLnR5cGUgPT09IFN0cnVjdHVyZUl0ZW1UeXBlLkxpYWlzb24pIHtcbiAgICAgICAgY29uc3QgW2NoaWxkXSA9IGl0ZW0uY2hpbGRyZW5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVEZW5kcm9ncmFtU3RhcnQoY2hpbGQgPz8gaXRlbSwgd2lkdGgpXG4gICAgfVxuICAgIGNvbnN0IHggPSBpdGVtLnJhbmsgKiB3aWR0aFxuICAgIGNvbnN0IHkgPSBpdGVtLmRpc3RhbmNlRnJvbVNvbWEgKyBpdGVtLmxlbmd0aFxuICAgIGNvbnN0IHogPSAwXG4gICAgcmV0dXJuIFt4LCB5LCB6XVxufVxuIiwiaW1wb3J0IHsgdGdkQ29kZUZ1bmN0aW9uX2Zsb2F0MDFUb1ZlYzMsIFRnZE1hdGVyaWFsIH0gZnJvbSAnQHRvbG9rb2Jhbi90Z2QnO1xuXG5leHBvcnQgY2xhc3MgTWF0ZXJpYWxJbmRleCBleHRlbmRzIFRnZE1hdGVyaWFsIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoe1xuICAgICAgdmFyeWluZ3M6IHtcbiAgICAgICAgdmFyQ29sb3I6ICd2ZWMzJyxcbiAgICAgIH0sXG4gICAgICBleHRyYVZlcnRleFNoYWRlckZ1bmN0aW9uczoge1xuICAgICAgICAuLi50Z2RDb2RlRnVuY3Rpb25fZmxvYXQwMVRvVmVjMygpLFxuICAgICAgfSxcbiAgICAgIHZlcnRleFNoYWRlckNvZGU6IFsndmFyQ29sb3IgPSBmbG9hdDAxVG9WZWMzKGF0dFVWMS55KTsnXSxcbiAgICAgIGZyYWdtZW50U2hhZGVyQ29kZTogWydyZXR1cm4gdmVjNCh2YXJDb2xvciwgMSk7J10sXG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLWJpdHdpc2UgKi9cbmltcG9ydCB7XG4gICAgVGdkQ29udGV4dCxcbiAgICBUZ2RQYWludGVyQ2xlYXIsXG4gICAgVGdkUGFpbnRlckdyb3VwLFxuICAgIFRnZFBhaW50ZXJTZWdtZW50cyxcbiAgICBUZ2RQYWludGVyU3RhdGUsXG4gICAgd2ViZ2xQcmVzZXREZXB0aCxcbn0gZnJvbSBcIkB0b2xva29iYW4vdGdkXCJcbmltcG9ydCB7IFN0cnVjdHVyZSwgU3RydWN0dXJlSXRlbSB9IGZyb20gXCIuLi9zdHJ1Y3R1cmVcIlxuaW1wb3J0IHsgbWFrZVNlZ21lbnRzM0QgfSBmcm9tIFwiLi4vc2VnbWVudHNcIlxuaW1wb3J0IHsgTWF0ZXJpYWxJbmRleCB9IGZyb20gXCIuL21hdGVyaWFsLWluZGV4XCJcblxuZXhwb3J0IGNsYXNzIE9mZnNjcmVlblBhaW50ZXIge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgb2Zmc2NyZWVuQ2FudmFzID0gbmV3IE9mZnNjcmVlbkNhbnZhcygxLCAxKVxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBvZmZzY3JlZW5Db250ZXh0OiBUZ2RDb250ZXh0XG5cbiAgICBwcml2YXRlIF9zdHJ1Y3R1cmU6IFN0cnVjdHVyZSB8IG51bGwgPSBudWxsXG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGdyb3VwID0gbmV3IFRnZFBhaW50ZXJHcm91cCgpXG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IG9uc2NyZWVuQ29udGV4dDogVGdkQ29udGV4dCkge1xuICAgICAgICBvbnNjcmVlbkNvbnRleHQuZXZlbnRQYWludC5hZGRMaXN0ZW5lcih0aGlzLnBhaW50KVxuICAgICAgICBjb25zdCBjb250ZXh0ID0gbmV3IFRnZENvbnRleHQodGhpcy5vZmZzY3JlZW5DYW52YXMsIHtcbiAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogdHJ1ZSxcbiAgICAgICAgICAgIGFudGlhbGlhczogZmFsc2UsXG4gICAgICAgICAgICBhbHBoYTogZmFsc2UsXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnRleHQuY2FtZXJhID0gb25zY3JlZW5Db250ZXh0LmNhbWVyYVxuICAgICAgICB0aGlzLm9mZnNjcmVlbkNvbnRleHQgPSBjb250ZXh0XG4gICAgICAgIGNvbnRleHQuYWRkKHRoaXMuZ3JvdXApXG4gICAgICAgIHRoaXMucGFpbnQoKVxuICAgIH1cblxuICAgIGdldCBzdHJ1Y3R1cmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHJ1Y3R1cmVcbiAgICB9XG5cbiAgICBzZXQgc3RydWN0dXJlKHZhbHVlOiBTdHJ1Y3R1cmUgfCBudWxsKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fc3RydWN0dXJlKSByZXR1cm5cblxuICAgICAgICB0aGlzLl9zdHJ1Y3R1cmUgPSB2YWx1ZVxuICAgICAgICB0aGlzLmdyb3VwLmRlbGV0ZSgpXG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3Qgc2VnbWVudHMgPSBtYWtlU2VnbWVudHMzRCh2YWx1ZSlcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLm9mZnNjcmVlbkNvbnRleHRcbiAgICAgICAgICAgIHRoaXMuZ3JvdXAuYWRkKFxuICAgICAgICAgICAgICAgIG5ldyBUZ2RQYWludGVyQ2xlYXIoY29udGV4dCwgeyBjb2xvcjogWzAsIDAsIDAsIDFdLCBkZXB0aDogMSB9KSxcbiAgICAgICAgICAgICAgICBuZXcgVGdkUGFpbnRlclN0YXRlKGNvbnRleHQsIHtcbiAgICAgICAgICAgICAgICAgICAgZGVwdGg6IHdlYmdsUHJlc2V0RGVwdGgubGVzc09yRXF1YWwsXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGdkUGFpbnRlclNlZ21lbnRzKGNvbnRleHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3VuZG5lc3M6IDMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluUmFkaXVzOiA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VEYXRhc2V0OiBzZWdtZW50cy5tYWtlRGF0YXNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogbmV3IE1hdGVyaWFsSW5kZXgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRJdGVtQXQoeFNjcmVlbjogbnVtYmVyLCB5U2NyZWVuOiBudW1iZXIpOiBTdHJ1Y3R1cmVJdGVtIHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IHsgc3RydWN0dXJlLCBvZmZzY3JlZW5Db250ZXh0OiBjb250ZXh0IH0gPSB0aGlzXG4gICAgICAgIGlmICghc3RydWN0dXJlKSByZXR1cm4gbnVsbFxuICAgICAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoY29udGV4dC53aWR0aCAqIGNvbnRleHQuaGVpZ2h0ICogNClcbiAgICAgICAgY29udGV4dC5nbC5yZWFkUGl4ZWxzKFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBjb250ZXh0LndpZHRoLFxuICAgICAgICAgICAgY29udGV4dC5oZWlnaHQsXG4gICAgICAgICAgICBjb250ZXh0LmdsLlJHQkEsXG4gICAgICAgICAgICBjb250ZXh0LmdsLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgICAgICBkYXRhXG4gICAgICAgIClcbiAgICAgICAgY29uc3QgW1IsIEcsIEJdID0gY29udGV4dC5yZWFkUGl4ZWwoeFNjcmVlbiwgeVNjcmVlbilcbiAgICAgICAgY29uc3QgdmFsdWUgPSAoUiArIChHIDw8IDgpICsgKEIgPDwgMTYpKSAvIDB4ZmZmZmZmXG4gICAgICAgIGNvbnN0IGluZGV4ID0gTWF0aC5mbG9vcigoc3RydWN0dXJlLmxlbmd0aCArIDIpICogdmFsdWUpIC0gMVxuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gc3RydWN0dXJlLmxlbmd0aCAtIDEpIHJldHVybiBudWxsXG5cbiAgICAgICAgcmV0dXJuIHN0cnVjdHVyZS5nZXQoaW5kZXgpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBwYWludCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgeyBvbnNjcmVlbkNvbnRleHQsIG9mZnNjcmVlbkNvbnRleHQsIG9mZnNjcmVlbkNhbnZhcyB9ID0gdGhpc1xuICAgICAgICBvZmZzY3JlZW5Db250ZXh0LmNhbWVyYSA9IG9uc2NyZWVuQ29udGV4dC5jYW1lcmFcbiAgICAgICAgY29uc3QgeyBjYW52YXMgfSA9IG9uc2NyZWVuQ29udGV4dFxuICAgICAgICBjb25zdCB3ID0gTWF0aC5jZWlsKGNhbnZhcy53aWR0aCAvIDIpXG4gICAgICAgIGNvbnN0IGggPSBNYXRoLmNlaWwoY2FudmFzLmhlaWdodCAvIDIpXG4gICAgICAgIG9mZnNjcmVlbkNhbnZhcy53aWR0aCA9IHdcbiAgICAgICAgb2Zmc2NyZWVuQ2FudmFzLmhlaWdodCA9IGhcbiAgICAgICAgb2Zmc2NyZWVuQ29udGV4dC5wYWludCgpXG4gICAgfVxuXG4gICAgZGVsZXRlKCkge1xuICAgICAgICB0aGlzLm9uc2NyZWVuQ29udGV4dC5ldmVudFBhaW50LnJlbW92ZUxpc3RlbmVyKHRoaXMucGFpbnQpXG4gICAgICAgIHRoaXMub2Zmc2NyZWVuQ29udGV4dC5kZWxldGUoKVxuICAgIH1cbn1cbiIsImltcG9ydCB7IFN0cnVjdHVyZUl0ZW1UeXBlIH0gZnJvbSBcIi4uL3N0cnVjdHVyZVwiXG5cbmV4cG9ydCBjb25zdCBQQUxFVFRFOiBzdHJpbmdbXSA9IFtdXG5QQUxFVFRFW1N0cnVjdHVyZUl0ZW1UeXBlLkF4b25dID0gXCIjMDdmXCJcblBBTEVUVEVbU3RydWN0dXJlSXRlbVR5cGUuRGVuZHJpdGVdID0gXCIjRjU1XCJcblBBTEVUVEVbU3RydWN0dXJlSXRlbVR5cGUuQmFzYWxEZW5kcml0ZV0gPSBcIiNGMzNcIlxuUEFMRVRURVtTdHJ1Y3R1cmVJdGVtVHlwZS5BcGljYWxEZW5kcml0ZV0gPSBcIiNGOGZcIlxuUEFMRVRURVtTdHJ1Y3R1cmVJdGVtVHlwZS5NeWVsaW5dID0gYCM3NzhgXG5QQUxFVFRFW1N0cnVjdHVyZUl0ZW1UeXBlLlNvbWFdID0gXCIjZGRlXCJcblBBTEVUVEVbU3RydWN0dXJlSXRlbVR5cGUuTGlhaXNvbl0gPSBcIiM1NTVcIlxuUEFMRVRURVtTdHJ1Y3R1cmVJdGVtVHlwZS5TZWxlY3RlZF0gPSBcIiNmYzBcIlxuUEFMRVRURVtTdHJ1Y3R1cmVJdGVtVHlwZS5Vbmtub3duXSA9IFwiI2E2ZlwiXG4iLCJpbXBvcnQge1xuICBBcnJheU51bWJlcjIsXG4gIFRnZENvbnRleHQsXG4gIFRnZExpZ2h0LFxuICBUZ2RNYXRlcmlhbERpZmZ1c2UsXG4gIFRnZFBhaW50ZXJHcm91cCxcbiAgVGdkUGFpbnRlclNlZ21lbnRzLFxuICBUZ2RQYWludGVyU2VnbWVudHNEYXRhLFxuICBUZ2RQYWludGVyU3RhdGUsXG4gIFRnZFZlYzMsXG4gIHdlYmdsUHJlc2V0QmxlbmQsXG4gIHdlYmdsUHJlc2V0Q3VsbCxcbiAgd2ViZ2xQcmVzZXREZXB0aCxcbn0gZnJvbSAnQHRvbG9rb2Jhbi90Z2QnO1xuXG5pbXBvcnQgeyBTdHJ1Y3R1cmVJdGVtLCBTdHJ1Y3R1cmVJdGVtVHlwZSB9IGZyb20gJy4uL3N0cnVjdHVyZSc7XG5cbmV4cG9ydCBjbGFzcyBQYWludGVySG92ZXIgZXh0ZW5kcyBUZ2RQYWludGVyR3JvdXAge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvbnRleHQ6IFRnZENvbnRleHQsXG4gICAgaXRlbTogU3RydWN0dXJlSXRlbVxuICApIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnN0IHNlZ21lbnRzID0gbmV3IFRnZFBhaW50ZXJTZWdtZW50c0RhdGEoKTtcbiAgICBjb25zdCB1djogQXJyYXlOdW1iZXIyID0gW1xuICAgICAgKFN0cnVjdHVyZUl0ZW1UeXBlLlNlbGVjdGVkICsgMC41KSAvIChTdHJ1Y3R1cmVJdGVtVHlwZS5Vbmtub3duICsgMSksXG4gICAgICAwLFxuICAgIF07XG4gICAgY29uc3QgcmFkaXVzID0gaXRlbS5yYWRpdXMgKiAxLjU7XG4gICAgc2VnbWVudHMuYWRkKFsuLi5pdGVtLnN0YXJ0LCByYWRpdXNdLCBbLi4uaXRlbS5lbmQsIHJhZGl1c10sIHV2LCB1dik7XG5cbiAgICB0aGlzLmFkZChcbiAgICAgIG5ldyBUZ2RQYWludGVyU3RhdGUoY29udGV4dCwge1xuICAgICAgICBibGVuZDogd2ViZ2xQcmVzZXRCbGVuZC5hZGQsXG4gICAgICAgIGN1bGw6IHdlYmdsUHJlc2V0Q3VsbC5iYWNrLFxuICAgICAgICBkZXB0aDogd2ViZ2xQcmVzZXREZXB0aC5hbHdheXMsXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgbmV3IFRnZFBhaW50ZXJTZWdtZW50cyhjb250ZXh0LCB7XG4gICAgICAgICAgICByb3VuZG5lc3M6IDMyLFxuICAgICAgICAgICAgbWluUmFkaXVzOiAyLFxuICAgICAgICAgICAgbWFrZURhdGFzZXQ6IHNlZ21lbnRzLm1ha2VEYXRhc2V0LFxuICAgICAgICAgICAgbWF0ZXJpYWw6IG5ldyBUZ2RNYXRlcmlhbERpZmZ1c2Uoe1xuICAgICAgICAgICAgICBjb2xvcjogWzAuOCwgMC42LCAwLjMsIDFdLFxuICAgICAgICAgICAgICBzcGVjdWxhckV4cG9uZW50OiAxLFxuICAgICAgICAgICAgICBzcGVjdWxhckludGVuc2l0eTogMC41LFxuICAgICAgICAgICAgICBsb2NrTGlnaHRzVG9DYW1lcmE6IHRydWUsXG4gICAgICAgICAgICAgIGxpZ2h0OiBuZXcgVGdkTGlnaHQoe1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogbmV3IFRnZFZlYzMoMCwgMCwgLTEpLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICBdLFxuICAgICAgfSlcbiAgICApO1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBUZ2RDb250ZXh0LFxuICBUZ2RQYWludGVyUG9pbnRzQ2xvdWQsXG4gIFRnZFBhaW50ZXJHcm91cCxcbiAgVGdkVGV4dHVyZTJELFxuICB0Z2RDYW52YXNDcmVhdGVGaWxsLFxufSBmcm9tICdAdG9sb2tvYmFuL3RnZCc7XG5cbmV4cG9ydCBjbGFzcyBQYWludGVyU3luYXBzZXMgZXh0ZW5kcyBUZ2RQYWludGVyR3JvdXAge1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBUZ2RDb250ZXh0LCBzeW5hcHNlczogQXJyYXk8eyBjb2xvcjogc3RyaW5nOyBkYXRhOiBGbG9hdDMyQXJyYXkgfT4pIHtcbiAgICBzdXBlcigpO1xuICAgIGZvciAoY29uc3QgeyBjb2xvciwgZGF0YTogZGF0YVBvaW50IH0gb2Ygc3luYXBzZXMpIHtcbiAgICAgIGNvbnN0IGNsb3VkID0gbmV3IFRnZFBhaW50ZXJQb2ludHNDbG91ZChjb250ZXh0LCB7XG4gICAgICAgIG5hbWU6IGBUZ2RQYWludGVyUG9pbnRzQ2xvdWRbJHtjb2xvcn1dYCxcbiAgICAgICAgZGF0YVBvaW50LFxuICAgICAgICBtaW5TaXplSW5QaXhlbHM6IDQsXG4gICAgICAgIHJhZGl1c011bHRpcGxpZXI6IDUsXG4gICAgICAgIHRleHR1cmU6IG5ldyBUZ2RUZXh0dXJlMkQoY29udGV4dCkubG9hZEJpdG1hcCh0Z2RDYW52YXNDcmVhdGVGaWxsKDEsIDEsIGNvbG9yKSksXG4gICAgICAgIG11c3REZWxldGVUZXh0dXJlOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICB0aGlzLmFkZChjbG91ZCk7XG4gICAgfVxuICB9XG5cbiAgZGVsZXRlKCk6IHZvaWQge1xuICAgIHN1cGVyLmRlbGV0ZSgpO1xuICB9XG59XG4iLCJpbXBvcnQge1xuICAgIHR5cGUgVGdkQ29udGV4dCxcbiAgICBUZ2RMaWdodCxcbiAgICBUZ2RNYXRlcmlhbERpZmZ1c2UsXG4gICAgVGdkUGFpbnRlckNsZWFyLFxuICAgIFRnZFBhaW50ZXJHcm91cCxcbiAgICBUZ2RQYWludGVyU2VnbWVudHMsXG4gICAgVGdkUGFpbnRlclN0YXRlLFxuICAgIFRnZFRleHR1cmUyRCxcbiAgICBUZ2RWZWMzLFxuICAgIHRnZENhbnZhc0NyZWF0ZVBhbGV0dGUsXG4gICAgd2ViZ2xQcmVzZXREZXB0aCxcbn0gZnJvbSBcIkB0b2xva29iYW4vdGdkXCJcblxuaW1wb3J0IHsgbWFrZVNlZ21lbnRzM0QsIG1ha2VTZWdtZW50c0RlbmRyb2dyYW0gfSBmcm9tIFwiLi4vc2VnbWVudHNcIlxuaW1wb3J0IHsgU3RydWN0dXJlLCB0eXBlIFN0cnVjdHVyZUl0ZW0gfSBmcm9tIFwiLi4vc3RydWN0dXJlXCJcbmltcG9ydCB7IFBBTEVUVEUgfSBmcm9tIFwiLi9jb250YW50c1wiXG5pbXBvcnQgeyBQYWludGVySG92ZXIgYXMgUGFpbnRlckhpZ2hsaWdodCB9IGZyb20gXCIuL2hpZ2hsaWdodFwiXG5pbXBvcnQgeyBQYWludGVyU3luYXBzZXMgfSBmcm9tIFwiLi9zeW5hcHNlc1wiXG5cbmV4cG9ydCBjbGFzcyBQYWludGVyIGV4dGVuZHMgVGdkUGFpbnRlckdyb3VwIHtcbiAgICBwcml2YXRlIF9zdHJ1Y3R1cmUgPSBuZXcgU3RydWN0dXJlKHt9KVxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBncm91cFNlZ21lbnRzID0gbmV3IFRnZFBhaW50ZXJHcm91cCgpXG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGdyb3VwU3luYXBzZXMgPSBuZXcgVGdkUGFpbnRlckdyb3VwKClcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgZ3JvdXBIb3ZlciA9IG5ldyBUZ2RQYWludGVyR3JvdXAoKVxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBwYWxldHRlOiBUZ2RUZXh0dXJlMkRcblxuICAgIHByaXZhdGUgX3N5bmFwc2VzOiBBcnJheTx7IGNvbG9yOiBzdHJpbmc7IGRhdGE6IEZsb2F0MzJBcnJheSB9PiB8IG51bGwgPVxuICAgICAgICBudWxsXG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGNvbnRleHQ6IFRnZENvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLnBhbGV0dGUgPSBuZXcgVGdkVGV4dHVyZTJEKGNvbnRleHQpXG4gICAgICAgICAgICAubG9hZEJpdG1hcCh0Z2RDYW52YXNDcmVhdGVQYWxldHRlKFBBTEVUVEUpKVxuICAgICAgICAgICAgLnNldFBhcmFtcyh7XG4gICAgICAgICAgICAgICAgbWFnRmlsdGVyOiBcIk5FQVJFU1RcIixcbiAgICAgICAgICAgICAgICBtaW5GaWx0ZXI6IFwiTkVBUkVTVFwiLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgdGhpcy5hZGQoXG4gICAgICAgICAgICBuZXcgVGdkUGFpbnRlckNsZWFyKGNvbnRleHQsIHsgY29sb3I6IFswLCAwLCAwLCAxXSwgZGVwdGg6IDEgfSksXG4gICAgICAgICAgICBuZXcgVGdkUGFpbnRlclN0YXRlKGNvbnRleHQsIHtcbiAgICAgICAgICAgICAgICBkZXB0aDogd2ViZ2xQcmVzZXREZXB0aC5sZXNzLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBTZWdtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncm91cFN5bmFwc2VzLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyb3VwSG92ZXIsXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICB9XG5cbiAgICBnZXQgc3luYXBzZXNFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncm91cFN5bmFwc2VzLmFjdGl2ZVxuICAgIH1cblxuICAgIHNldCBzeW5hcHNlc0VuYWJsZWQodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5ncm91cFN5bmFwc2VzLmFjdGl2ZSA9IHZhbHVlXG4gICAgICAgIHRoaXMuY29udGV4dC5wYWludCgpXG4gICAgfVxuXG4gICAgZ2V0IHN5bmFwc2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3luYXBzZXNcbiAgICB9XG5cbiAgICBzZXQgc3luYXBzZXMoXG4gICAgICAgIHN5bmFwc2VzOiBBcnJheTx7IGNvbG9yOiBzdHJpbmc7IGRhdGE6IEZsb2F0MzJBcnJheSB9PiB8IG51bGxcbiAgICApIHtcbiAgICAgICAgdGhpcy5fc3luYXBzZXMgPSBzeW5hcHNlc1xuICAgICAgICBjb25zdCB7IGNvbnRleHQsIGdyb3VwU3luYXBzZXMgfSA9IHRoaXNcbiAgICAgICAgZ3JvdXBTeW5hcHNlcy5kZWxldGUoKVxuICAgICAgICBpZiAoc3luYXBzZXMgJiYgc3luYXBzZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZ3JvdXBTeW5hcHNlcy5hZGQobmV3IFBhaW50ZXJTeW5hcHNlcyhjb250ZXh0LCBzeW5hcHNlcykpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250ZXh0LnBhaW50KClcbiAgICB9XG5cbiAgICBnZXQgc3RydWN0dXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RydWN0dXJlXG4gICAgfVxuXG4gICAgc2V0IHN0cnVjdHVyZSh2YWx1ZTogU3RydWN0dXJlKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGV4dCB9ID0gdGhpc1xuICAgICAgICB0aGlzLl9zdHJ1Y3R1cmUgPSB2YWx1ZVxuICAgICAgICBjb25zdCBzZWdtZW50czNkID0gbWFrZVNlZ21lbnRzM0QodmFsdWUpXG4gICAgICAgIGNvbnN0IHNlZ21lbnRzRGVuZHJvZ3JhbSA9IG1ha2VTZWdtZW50c0RlbmRyb2dyYW0odmFsdWUpXG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gc2VnbWVudHNEZW5kcm9ncmFtXG4gICAgICAgIHRoaXMuZ3JvdXBTZWdtZW50cy5kZWxldGUoKVxuICAgICAgICB0aGlzLmdyb3VwU2VnbWVudHMuYWRkKFxuICAgICAgICAgICAgbmV3IFRnZFBhaW50ZXJTZWdtZW50cyhjb250ZXh0LCB7XG4gICAgICAgICAgICAgICAgcm91bmRuZXNzOiA2LFxuICAgICAgICAgICAgICAgIG1pblJhZGl1czogMC41LFxuICAgICAgICAgICAgICAgIG1ha2VEYXRhc2V0OiBzZWdtZW50cy5tYWtlRGF0YXNldCxcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDogbmV3IFRnZE1hdGVyaWFsRGlmZnVzZSh7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLnBhbGV0dGUsXG4gICAgICAgICAgICAgICAgICAgIHNwZWN1bGFyRXhwb25lbnQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIHNwZWN1bGFySW50ZW5zaXR5OiAwLjI1LFxuICAgICAgICAgICAgICAgICAgICBsb2NrTGlnaHRzVG9DYW1lcmE6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0OiBuZXcgVGdkTGlnaHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBuZXcgVGdkVmVjMygwLCAwLCAtMSksXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICBjb250ZXh0LnBhaW50KClcbiAgICB9XG5cbiAgICBoaWdobGlnaHQoaXRlbTogU3RydWN0dXJlSXRlbSB8IG51bGwpIHtcbiAgICAgICAgY29uc3QgeyBncm91cEhvdmVyLCBjb250ZXh0IH0gPSB0aGlzXG4gICAgICAgIGdyb3VwSG92ZXIuZGVsZXRlKClcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIGdyb3VwSG92ZXIuYWRkKG5ldyBQYWludGVySGlnaGxpZ2h0KGNvbnRleHQsIGl0ZW0pKVxuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQucGFpbnQoKVxuICAgIH1cblxuICAgIGRlbGV0ZSgpIHtcbiAgICAgICAgdGhpcy5wYWxldHRlLmRlbGV0ZSgpXG4gICAgICAgIHRoaXMuZ3JvdXBIb3Zlci5kZWxldGUoKVxuICAgICAgICB0aGlzLmdyb3VwU2VnbWVudHMuZGVsZXRlKClcbiAgICAgICAgdGhpcy5ncm91cFN5bmFwc2VzLmRlbGV0ZSgpXG4gICAgfVxufVxuIiwiXCJ1c2UgY2xpZW50XCJcbi8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5cbmltcG9ydCB7XG4gICAgdHlwZSBUZ2RDYW1lcmFTdGF0ZSxcbiAgICBUZ2RDb250ZXh0LFxuICAgIFRnZENvbnRyb2xsZXJDYW1lcmFPcmJpdCxcbiAgICBUZ2RFdmVudCxcbiAgICBUZ2RNYXQ0LFxuICAgIFRnZFZlYzMsXG4gICAgdGdkQ2FsY01hcFJhbmdlLFxufSBmcm9tIFwiQHRvbG9rb2Jhbi90Z2RcIlxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgdHlwZSB7IE1vcnBob2xvZ3kgfSBmcm9tIFwiLi4vdHlwZXNcIlxuaW1wb3J0IHsgbWFrZUNhbWVyYSB9IGZyb20gXCIuL2NhbWVyYVwiXG5pbXBvcnQgeyBjb21wdXRlU2VjdGlvbk9mZnNldCB9IGZyb20gXCIuL21hdGhcIlxuaW1wb3J0IHsgT2Zmc2NyZWVuUGFpbnRlciB9IGZyb20gXCIuL29mZnNjcmVlbi1wYWludGVyXCJcbmltcG9ydCB7IFBhaW50ZXIgfSBmcm9tIFwiLi9wYWludGVyc1wiXG5pbXBvcnQgeyBTdHJ1Y3R1cmUsIHR5cGUgU3RydWN0dXJlSXRlbSB9IGZyb20gXCIuL3N0cnVjdHVyZVwiXG5cbmludGVyZmFjZSBTZWxlY3RlZEl0ZW0ge1xuICAgIHg6IG51bWJlclxuICAgIHk6IG51bWJlclxuICAgIGl0ZW06IFN0cnVjdHVyZUl0ZW0gfCBudWxsXG4gICAgb2Zmc2V0OiBudW1iZXJcbn1cbmV4cG9ydCBjbGFzcyBQYWludGVyTWFuYWdlciB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaWQgPSAwXG5cbiAgICBwdWJsaWMgZGlzYWJsZUVsZWN0cm9kZXMgPSBmYWxzZVxuXG4gICAgcHVibGljIHJlYWRvbmx5IGlkID0gUGFpbnRlck1hbmFnZXIuaWQrK1xuXG4gICAgcHVibGljIHJlYWRvbmx5IGV2ZW50RXJyb3IgPSBuZXcgVGdkRXZlbnQ8c3RyaW5nPigpXG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgZXZlbnRQYWludCA9IG5ldyBUZ2RFdmVudDx2b2lkPigpXG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgZXZlbnRIb3ZlciA9IG5ldyBUZ2RFdmVudDxTZWxlY3RlZEl0ZW0+KClcblxuICAgIHB1YmxpYyByZWFkb25seSBldmVudFRhcCA9IG5ldyBUZ2RFdmVudDx7XG4gICAgICAgIHg6IG51bWJlclxuICAgICAgICB5OiBudW1iZXJcbiAgICAgICAgaXRlbTogU3RydWN0dXJlSXRlbSB8IG51bGxcbiAgICAgICAgb2Zmc2V0OiBudW1iZXJcbiAgICB9PigpXG5cbiAgICAvKiogRXZlbnQgZm9yIG5vcm1hbGl6ZWQgem9vbSBjaGFuZ2VzLiAqL1xuICAgIHB1YmxpYyByZWFkb25seSBldmVudFpvb20gPSBuZXcgVGdkRXZlbnQ8bnVtYmVyPigpXG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgZXZlbnRSZXN0aW5nUG9zaXRpb24gPSBuZXcgVGdkRXZlbnQ8Ym9vbGVhbj4oKVxuXG4gICAgcHVibGljIHJlYWRvbmx5IGV2ZW50SGludFZpc2libGUgPSBuZXcgVGdkRXZlbnQ8Ym9vbGVhbj4oKVxuXG4gICAgcHVibGljIHJlYWRvbmx5IGV2ZW50Rm9yYmlkZGVuQ2xpY2sgPSBuZXcgVGdkRXZlbnQ8dm9pZD4oKVxuXG4gICAgcHJpdmF0ZSBwYWludGVyOiBQYWludGVyIHwgbnVsbCA9IG51bGxcblxuICAgIHByaXZhdGUgX2Rpc2FibGVTeW5hcHNlcyA9IGZhbHNlXG5cbiAgICBwcml2YXRlIF9tb3JwaG9sb2d5OiBNb3JwaG9sb2d5IHwgbnVsbCA9IG51bGxcblxuICAgIHByaXZhdGUgX2NhbnZhczogSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsID0gbnVsbFxuXG4gICAgcHJpdmF0ZSBjb250ZXh0OiBUZ2RDb250ZXh0IHwgbnVsbCA9IG51bGxcblxuICAgIHByaXZhdGUgb2Zmc2NyZWVuOiBPZmZzY3JlZW5QYWludGVyIHwgbnVsbCA9IG51bGxcblxuICAgIHByaXZhdGUgc3RydWN0dXJlOiBTdHJ1Y3R1cmUgfCBudWxsID0gbnVsbFxuXG4gICAgcHJpdmF0ZSBfaG92ZXJJdGVtOiBTZWxlY3RlZEl0ZW0gPSB7IHg6IDAsIHk6IDAsIG9mZnNldDogMCwgaXRlbTogbnVsbCB9XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGluaXRpYWxQb3NpdGlvbiA9IG5ldyBUZ2RWZWMzKClcblxuICAgIHByaXZhdGUgY2FtZXJhQ29udHJvbGxlcjogVGdkQ29udHJvbGxlckNhbWVyYU9yYml0IHwgbnVsbCA9IG51bGxcblxuICAgIHByaXZhdGUgc3luYXBzZXM6IEFycmF5PHsgY29sb3I6IHN0cmluZzsgZGF0YTogRmxvYXQzMkFycmF5IH0+ID0gW11cblxuICAgIC8qKlxuICAgICAqIFdoZW4gaXMgdGhlIGxhc3QgdGltZSB0aGUgY2FtZXJhIG1vdmVkP1xuICAgICAqIFdlIHVzZSB0aGlzIHRvIHByZXZlbnQgYSBxdWljayBjYW1lcmEgbW92ZWRcbiAgICAgKiBmcm9tIGJlaW5nIGludGVycHJldGVkIGFzIGEgY2xpY2suXG4gICAgICogQmVjYXVzZSBhIGNsaWNrIHdpbGwgYnJpbmcgYSBtb2RhbCB3aW5kb3cgdG8gYWRkXG4gICAgICogcmVjb3JkaW5nLlxuICAgICAqL1xuICAgIHByaXZhdGUgbGFzdENhbWVyYUNoYW5nZVRpbWVzdGFtcCA9IDBcblxuICAgIC8qKlxuICAgICAqIFJlbWVtYmVyIHRoZSBjYW1lcmEgcG9zaXRpb24sIHNvIGlmIHdlIGluaXRpYWxpemUgd2l0aCB0aGVcbiAgICAgKiBzYW1lIG1vcnBob2xvZ3ksIHdlIGNhbiByZXN0b3JlIGNhbWVyYSBzdGF0ZS5cbiAgICAgKi9cbiAgICBwcml2YXRlIGxhc3RDYW1lcmFTdGF0ZTogVGdkQ2FtZXJhU3RhdGUgfCBudWxsID0gbnVsbFxuXG4gICAgcHJpdmF0ZSBfY2xpY2thYmxlID0gdHJ1ZVxuXG4gICAgZ2V0IGRpc2FibGVTeW5hcHNlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc2FibGVTeW5hcHNlc1xuICAgIH1cblxuICAgIHNldCBkaXNhYmxlU3luYXBzZXModmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fZGlzYWJsZVN5bmFwc2VzID0gdmFsdWVcbiAgICAgICAgY29uc3QgeyBwYWludGVyIH0gPSB0aGlzXG4gICAgICAgIGlmIChwYWludGVyKSBwYWludGVyLnN5bmFwc2VzRW5hYmxlZCA9ICF2YWx1ZVxuICAgIH1cblxuICAgIGdldCBjbGlja2FibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGlja2FibGVcbiAgICB9XG5cbiAgICBzZXQgY2xpY2thYmxlKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX2NsaWNrYWJsZSA9IHZhbHVlXG4gICAgICAgIHRoaXMuY29udGV4dD8ucGFpbnQoKVxuICAgIH1cblxuICAgIGdldCBob3Zlckl0ZW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ob3Zlckl0ZW1cbiAgICB9XG5cbiAgICBzZXQgaG92ZXJJdGVtKHZhbHVlOiBTZWxlY3RlZEl0ZW0pIHtcbiAgICAgICAgdGhpcy5faG92ZXJJdGVtID0gdmFsdWVcbiAgICAgICAgdGhpcy5ldmVudEhvdmVyLmRpc3BhdGNoKHZhbHVlKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbm9ybWFsaXplZCB6b29tIGlzIGJldHdlZW4gLTEgYW5kICsxLlxuICAgICAqL1xuICAgIGdldCB6b29tKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRleHQsIGNhbWVyYUNvbnRyb2xsZXIgfSA9IHRoaXNcbiAgICAgICAgaWYgKCFjb250ZXh0IHx8ICFjYW1lcmFDb250cm9sbGVyKSByZXR1cm4gMFxuXG4gICAgICAgIHJldHVybiB0aGlzLnRvTm9ybWFsaXplZFpvb20oY2FtZXJhQ29udHJvbGxlci56b29tKVxuICAgIH1cblxuICAgIHNldCB6b29tKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgeyBjYW1lcmFDb250cm9sbGVyIH0gPSB0aGlzXG4gICAgICAgIGlmICghY2FtZXJhQ29udHJvbGxlcikgcmV0dXJuXG5cbiAgICAgICAgaWYgKE1hdGguYWJzKHZhbHVlIC0gdGhpcy56b29tKSA8IDFlLTYpIHJldHVyblxuXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gMCkgdGhpcy5ldmVudFJlc3RpbmdQb3NpdGlvbi5kaXNwYXRjaChmYWxzZSlcbiAgICAgICAgY29uc3Qgem9vbSA9IHRoaXMudG9Db250cm9sbGVyWm9vbSh2YWx1ZSlcbiAgICAgICAgY2FtZXJhQ29udHJvbGxlci56b29tID0gem9vbVxuICAgICAgICB0aGlzLmV2ZW50Wm9vbS5kaXNwYXRjaCh2YWx1ZSlcbiAgICAgICAgdGhpcy5jb250ZXh0Py5wYWludCgpXG4gICAgfVxuXG4gICAgcmVhZG9ubHkgem9vbU91dCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy56b29tIC09IDAuMVxuICAgIH1cblxuICAgIHJlYWRvbmx5IHpvb21JbiA9ICgpID0+IHtcbiAgICAgICAgdGhpcy56b29tICs9IDAuMVxuICAgIH1cblxuICAgIGdldCBjYW52YXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYW52YXNcbiAgICB9XG5cbiAgICBzZXQgY2FudmFzKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsKSB7XG4gICAgICAgIGlmICh0aGlzLl9jYW52YXMgPT09IGNhbnZhcykgcmV0dXJuXG5cbiAgICAgICAgY2FudmFzPy5hZGRFdmVudExpc3RlbmVyKFwiZGJsY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFldnQuc2hpZnRLZXkpIHJldHVyblxuXG4gICAgICAgICAgICBjb25zdCBVUkwgPSBgZGF0YTphcHBsaWNhdGlvbi9qc29uLCR7ZW5jb2RlVVJJKEpTT04uc3RyaW5naWZ5KHRoaXMubW9ycGhvbG9neSkpfWBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFVSTClcbiAgICAgICAgICAgIGdsb2JhbFRoaXMub3BlbihVUkwsIFwiX2JsYW5rXCIpXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuX2NhbnZhcyA9IGNhbnZhc1xuICAgICAgICBpZiAoY2FudmFzKSB0aGlzLmluaXRpYWxpemUoKVxuICAgICAgICBlbHNlIHRoaXMuZGVsZXRlKClcbiAgICB9XG5cbiAgICBnZXQgbW9ycGhvbG9neSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vcnBob2xvZ3lcbiAgICB9XG5cbiAgICBzZXQgbW9ycGhvbG9neShtb3JwaG9sb2d5OiBNb3JwaG9sb2d5IHwgbnVsbCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhbW9ycGhvbG9neSB8fFxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkodGhpcy5fbW9ycGhvbG9neSkgIT09IEpTT04uc3RyaW5naWZ5KG1vcnBob2xvZ3kpXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5sYXN0Q2FtZXJhU3RhdGUgPSBudWxsXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbW9ycGhvbG9neSA9IG1vcnBob2xvZ3lcbiAgICAgICAgaWYgKCFtb3JwaG9sb2d5KSByZXR1cm5cblxuICAgICAgICBjb25zdCBzdHJ1Y3R1cmUgPSBuZXcgU3RydWN0dXJlKG1vcnBob2xvZ3kpXG4gICAgICAgIHRoaXMuc3RydWN0dXJlID0gc3RydWN0dXJlXG4gICAgICAgIGNvbnN0IHsgb2Zmc2NyZWVuLCBwYWludGVyLCBjb250ZXh0IH0gPSB0aGlzXG4gICAgICAgIGlmIChvZmZzY3JlZW4pIG9mZnNjcmVlbi5zdHJ1Y3R1cmUgPSBzdHJ1Y3R1cmVcbiAgICAgICAgaWYgKGNvbnRleHQgJiYgcGFpbnRlcikge1xuICAgICAgICAgICAgY29uc3QgeyBjYW1lcmEsIHpvb21NaW4sIHpvb21NYXggfSA9IG1ha2VDYW1lcmEoc3RydWN0dXJlKVxuICAgICAgICAgICAgY29udGV4dC5jYW1lcmEgPSBjYW1lcmFcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbFBvc2l0aW9uLmZyb20oY29udGV4dC5jYW1lcmEudHJhbnNmby5wb3NpdGlvbilcbiAgICAgICAgICAgIHRoaXMuaW5pdENhbWVyYUNvbnRyb2xsZXIoY29udGV4dCwgem9vbU1pbiwgem9vbU1heClcbiAgICAgICAgICAgIHBhaW50ZXIuc3RydWN0dXJlID0gc3RydWN0dXJlXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRDYW1lcmFNYXRyaXgoKTogUmVhZG9ubHk8VGdkTWF0ND4ge1xuICAgICAgICBjb25zdCB7IGNvbnRleHQgfSA9IHRoaXNcbiAgICAgICAgaWYgKCFjb250ZXh0KSByZXR1cm4gbmV3IFRnZE1hdDQoKVxuXG4gICAgICAgIGNvbnN0IHsgY2FtZXJhIH0gPSBjb250ZXh0XG4gICAgICAgIHJldHVybiBuZXcgVGdkTWF0NChjYW1lcmEubWF0cml4UHJvamVjdGlvbikubXVsdGlwbHkoXG4gICAgICAgICAgICBjYW1lcmEubWF0cml4TW9kZWxWaWV3XG4gICAgICAgIClcbiAgICB9XG5cbiAgICByZWFkb25seSByZXNldENhbWVyYSA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgeyBjb250ZXh0LCBjYW1lcmFDb250cm9sbGVyIH0gPSB0aGlzXG4gICAgICAgIGlmICghY29udGV4dCB8fCAhY2FtZXJhQ29udHJvbGxlcikgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgeyB6b29tIH0gPSB0aGlzXG4gICAgICAgIGNhbWVyYUNvbnRyb2xsZXIucmVzZXQoMC4zMzMzLCB7XG4gICAgICAgICAgICBvbkFjdGlvbjogKHQ6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRab29tLmRpc3BhdGNoKHRnZENhbGNNYXBSYW5nZSh0LCAwLCAxLCB6b29tLCAwKSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkVuZDogKCkgPT4gdGhpcy5ldmVudFJlc3RpbmdQb3NpdGlvbi5kaXNwYXRjaCh0cnVlKSxcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBkZWxldGUoKSB7XG4gICAgICAgIHRoaXMucGFpbnRlcj8uZGVsZXRlKClcbiAgICAgICAgdGhpcy5wYWludGVyID0gbnVsbFxuICAgICAgICBpZiAodGhpcy5jb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZGVsZXRlKClcbiAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IG51bGxcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vZmZzY3JlZW4pIHtcbiAgICAgICAgICAgIHRoaXMub2Zmc2NyZWVuLmRlbGV0ZSgpXG4gICAgICAgICAgICB0aGlzLm9mZnNjcmVlbiA9IG51bGxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdlIGxvb2sgZm9yIHRoZSBzZWdtZW50IGRlZmluZWQgYnkgYG9mZnNldGAgYW5kXG4gICAgICogd2UgcmV0dXJuIHRoZSAzRCBwb2ludCBpbiBpdC5cbiAgICAgKiBAcGFyYW0gc2VjdGlvbk5hbWVcbiAgICAgKiBAcGFyYW0gb2Zmc2V0XG4gICAgICovXG4gICAgZ2V0U2VjdGlvbkNvb3JkaW5hdGVzKHNlY3Rpb25OYW1lOiBzdHJpbmcsIG9mZnNldDogbnVtYmVyKTogVGdkVmVjMyB7XG4gICAgICAgIGNvbnN0IHsgc3RydWN0dXJlIH0gPSB0aGlzXG4gICAgICAgIGlmICghc3RydWN0dXJlKSByZXR1cm4gbmV3IFRnZFZlYzMoKVxuXG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gc3RydWN0dXJlLmdldFNlZ21lbnRzT2ZTZWN0aW9uKHNlY3Rpb25OYW1lKSA/PyBbXVxuICAgICAgICBjb25zdCB0b3RhbERpc3RhbmNlID0gc2VnbWVudHMucmVkdWNlKFxuICAgICAgICAgICAgKGRpc3QsIGl0ZW0pID0+IGRpc3QgKyBpdGVtLmxlbmd0aCxcbiAgICAgICAgICAgIDBcbiAgICAgICAgKVxuICAgICAgICBjb25zdCB0YXJnZXREaXN0YW5jZSA9IHRvdGFsRGlzdGFuY2UgKiBvZmZzZXRcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gMFxuICAgICAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygc2VnbWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzRGlzdGFuY2UgPSBkaXN0YW5jZVxuICAgICAgICAgICAgZGlzdGFuY2UgKz0gc2VnbWVudC5sZW5ndGhcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA+PSB0YXJnZXREaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlZ21lbnRPZmZzZXQgPVxuICAgICAgICAgICAgICAgICAgICAodGFyZ2V0RGlzdGFuY2UgLSBwcmV2aW91c0Rpc3RhbmNlKSAvIHNlZ21lbnQubGVuZ3RoXG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBUZ2RWZWMzLm5ld0Zyb21NaXgoXG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnQuc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnQuZW5kLFxuICAgICAgICAgICAgICAgICAgICBzZWdtZW50T2Zmc2V0XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHJldHVybiBwb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVGdkVmVjMygpXG4gICAgfVxuXG4gICAgZ2V0U2VnbWVudChcbiAgICAgICAgc2VjdGlvbk5hbWU6IHN0cmluZyxcbiAgICAgICAgc2VjdGlvbk9mZnNldDogbnVtYmVyXG4gICAgKTogU3RydWN0dXJlSXRlbSB8IG51bGwge1xuICAgICAgICBjb25zdCB7IHN0cnVjdHVyZSB9ID0gdGhpc1xuICAgICAgICBpZiAoIXN0cnVjdHVyZSkgcmV0dXJuIG51bGxcblxuICAgICAgICBjb25zdCBzZWdtZW50cyA9IHN0cnVjdHVyZS5nZXRTZWdtZW50c09mU2VjdGlvbihzZWN0aW9uTmFtZSlcbiAgICAgICAgaWYgKCFzZWdtZW50cykgcmV0dXJuIG51bGxcblxuICAgICAgICBjb25zdCB0b3RhbERpc3RhbmNlID0gc2VnbWVudHMucmVkdWNlKFxuICAgICAgICAgICAgKGRpc3QsIGl0ZW0pID0+IGRpc3QgKyBpdGVtLmxlbmd0aCxcbiAgICAgICAgICAgIDBcbiAgICAgICAgKVxuICAgICAgICBjb25zdCB0YXJnZXREaXN0YW5jZSA9IHRvdGFsRGlzdGFuY2UgKiBzZWN0aW9uT2Zmc2V0XG4gICAgICAgIGxldCBkaXN0YW5jZSA9IDBcbiAgICAgICAgZm9yIChjb25zdCBzZWdtZW50IG9mIHNlZ21lbnRzKSB7XG4gICAgICAgICAgICBkaXN0YW5jZSArPSBzZWdtZW50Lmxlbmd0aFxuICAgICAgICAgICAgaWYgKGRpc3RhbmNlID49IHRhcmdldERpc3RhbmNlKSByZXR1cm4gc2VnbWVudFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgc2hvd1N5bmFwc2VzKHN5bmFwc2VzOiBBcnJheTx7IGNvbG9yOiBzdHJpbmc7IGRhdGE6IEZsb2F0MzJBcnJheSB9Pikge1xuICAgICAgICB0aGlzLnN5bmFwc2VzID0gc3luYXBzZXNcbiAgICAgICAgY29uc3QgeyBjb250ZXh0LCBwYWludGVyIH0gPSB0aGlzXG4gICAgICAgIGlmICghY29udGV4dCB8fCAhcGFpbnRlcikgcmV0dXJuXG5cbiAgICAgICAgcGFpbnRlci5zeW5hcHNlcyA9IHN5bmFwc2VzXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0aWFsaXplKCkge1xuICAgICAgICBjb25zdCB7IGNhbnZhcyB9ID0gdGhpc1xuICAgICAgICBpZiAodGhpcy5jb250ZXh0IHx8ICFjYW52YXMpIHJldHVyblxuXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgVGdkQ29udGV4dChjYW52YXMsIHtcbiAgICAgICAgICAgIGFscGhhOiBmYWxzZSxcbiAgICAgICAgICAgIGFudGlhbGlhczogdHJ1ZSxcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5wYWludGVyID0gbmV3IFBhaW50ZXIoY29udGV4dClcbiAgICAgICAgY29udGV4dC5hZGQodGhpcy5wYWludGVyKVxuICAgICAgICBjb250ZXh0LmV2ZW50V2ViR0xDb250ZXh0UmVzdG9yZWQuYWRkTGlzdGVuZXIoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kZWxldGUoKVxuICAgICAgICAgICAgZ2xvYmFsVGhpcy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5pbml0aWFsaXplKCkpXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnRleHQuZXZlbnRQYWludC5hZGRMaXN0ZW5lcih0aGlzLmhhbmRsZVBhaW50KVxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0XG4gICAgICAgIHRoaXMuaW5pdE9mZnNjcmVlbihjb250ZXh0KVxuICAgICAgICB0aGlzLmV2ZW50SGludFZpc2libGUuZGlzcGF0Y2goZmFsc2UpXG4gICAgICAgIC8vIEluaXRpYWxpemUgcGFpbnRlci5cbiAgICAgICAgY29uc3QgeyBzdHJ1Y3R1cmUsIHBhaW50ZXIgfSA9IHRoaXNcbiAgICAgICAgcGFpbnRlci5zeW5hcHNlcyA9IHRoaXMuc3luYXBzZXNcbiAgICAgICAgaWYgKHN0cnVjdHVyZSkge1xuICAgICAgICAgICAgY29uc3QgeyBjYW1lcmEsIHpvb21NaW4sIHpvb21NYXggfSA9IG1ha2VDYW1lcmEoc3RydWN0dXJlKVxuICAgICAgICAgICAgY29udGV4dC5jYW1lcmEgPSBjYW1lcmFcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbFBvc2l0aW9uLmZyb20oY29udGV4dC5jYW1lcmEudHJhbnNmby5wb3NpdGlvbilcbiAgICAgICAgICAgIHRoaXMuaW5pdENhbWVyYUNvbnRyb2xsZXIoY29udGV4dCwgem9vbU1pbiwgem9vbU1heClcbiAgICAgICAgICAgIHBhaW50ZXIuc3RydWN0dXJlID0gc3RydWN0dXJlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubGFzdENhbWVyYVN0YXRlKSB7XG4gICAgICAgICAgICAvLyBSZXN0b3JlIGNhbWVyYSBzdGF0ZVxuICAgICAgICAgICAgY29udGV4dC5jYW1lcmEuc2V0Q3VycmVudFN0YXRlKHRoaXMubGFzdENhbWVyYVN0YXRlKVxuICAgICAgICAgICAgdGhpcy5ldmVudFJlc3RpbmdQb3NpdGlvbi5kaXNwYXRjaChmYWxzZSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdlIHBhaW50IGEgdGhpY2tlciByZXByZXNlbnRhdGlvbiBvZiB0aGUgbmV1cm9uIGluIGFuIG9mZnNjZWVuIGNhbnZhcy5cbiAgICAgKiBUaGUgY29sb3Igb2YgZWFjaCBzZWdtZW50IGlzIHRoZSBJRCBvZiB0aGlzIHNlZ21lbnQuIFNvIHdlIG11c3QgTk9UXG4gICAgICogdXNlIGFudGktYWxpYXNpbmcsIG9yIGFueSBzaGFkaW5nIChvdGhlciB0aGFuIGZsYXQpLlxuICAgICAqL1xuICAgIHByaXZhdGUgaW5pdE9mZnNjcmVlbihjb250ZXh0OiBUZ2RDb250ZXh0KSB7XG4gICAgICAgIHRoaXMub2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlblBhaW50ZXIoY29udGV4dClcbiAgICAgICAgdGhpcy5vZmZzY3JlZW4uc3RydWN0dXJlID0gdGhpcy5zdHJ1Y3R1cmVcbiAgICAgICAgY29udGV4dC5pbnB1dHMucG9pbnRlci5ldmVudEhvdmVyLmFkZExpc3RlbmVyKChldnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgcGFpbnRlciwgc3RydWN0dXJlIH0gPSB0aGlzXG4gICAgICAgICAgICBpZiAoIXBhaW50ZXIgfHwgIXN0cnVjdHVyZSkgcmV0dXJuXG5cbiAgICAgICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gZXZ0LmN1cnJlbnRcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLm9mZnNjcmVlbj8uZ2V0SXRlbUF0KHgsIHkpID8/IG51bGxcbiAgICAgICAgICAgIGlmIChpdGVtICE9PSB0aGlzLmhvdmVySXRlbS5pdGVtKSB7XG4gICAgICAgICAgICAgICAgcGFpbnRlci5oaWdobGlnaHQobnVsbClcbiAgICAgICAgICAgICAgICBsZXQgb2Zmc2V0ID0gMFxuICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhaW50ZXIuaGlnaGxpZ2h0KGl0ZW0pXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IGNvbXB1dGVTZWN0aW9uT2Zmc2V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0dXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2FtZXJhLFxuICAgICAgICAgICAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhaW50ZXIuaGlnaGxpZ2h0KG51bGwpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJJdGVtID0geyB4LCB5LCBvZmZzZXQsIGl0ZW06IGl0ZW0gPz8gbnVsbCB9XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0Py5wYWludCgpXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEhpbnRWaXNpYmxlLmRpc3BhdGNoKHRydWUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGNvbnRleHQuaW5wdXRzLnBvaW50ZXIuZXZlbnRUYXAuYWRkTGlzdGVuZXIoKGV2dCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGlzYWJsZUVsZWN0cm9kZXMpIHJldHVyblxuXG4gICAgICAgICAgICBpZiAoIXRoaXMuY2xpY2thYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEZvcmJpZGRlbkNsaWNrLmRpc3BhdGNoKClcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUHJldmVudCBjYW1lcmEgbW92ZW1lbnQgdG8gYmUgaW50ZXJwcmV0ZWQgYXMgYSBjbGljay5cbiAgICAgICAgICAgIGlmIChEYXRlLm5vdygpIC0gdGhpcy5sYXN0Q2FtZXJhQ2hhbmdlVGltZXN0YW1wIDwgMzAwKSByZXR1cm5cblxuICAgICAgICAgICAgY29uc3QgeyBzdHJ1Y3R1cmUgfSA9IHRoaXNcbiAgICAgICAgICAgIGlmICghdGhpcy5jb250ZXh0IHx8ICFzdHJ1Y3R1cmUpIHJldHVyblxuXG4gICAgICAgICAgICBjb25zdCB7IHgsIHkgfSA9IGV2dFxuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMub2Zmc2NyZWVuPy5nZXRJdGVtQXQoeCwgeSkgPz8gbnVsbFxuICAgICAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWdtZW50ID0gY29tcHV0ZVNlY3Rpb25PZmZzZXQoXG4gICAgICAgICAgICAgICAgICAgIHN0cnVjdHVyZSxcbiAgICAgICAgICAgICAgICAgICAgaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmNhbWVyYSxcbiAgICAgICAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgICAgICAgeVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB0aGlzLmhvdmVySXRlbSA9IHsgeCwgeSwgb2Zmc2V0OiBzZWdtZW50LCBpdGVtOiBpdGVtID8/IG51bGwgfVxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRUYXAuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICB4LFxuICAgICAgICAgICAgICAgICAgICB5LFxuICAgICAgICAgICAgICAgICAgICBpdGVtOiB0aGlzLmhvdmVySXRlbS5pdGVtLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHNlZ21lbnQsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGludFZpc2libGUuZGlzcGF0Y2goZmFsc2UpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0Q2FtZXJhQ29udHJvbGxlcihcbiAgICAgICAgY29udGV4dDogVGdkQ29udGV4dCxcbiAgICAgICAgbWluWm9vbTogbnVtYmVyLFxuICAgICAgICBtYXhab29tOiBudW1iZXJcbiAgICApIHtcbiAgICAgICAgaWYgKHRoaXMuY2FtZXJhQ29udHJvbGxlcikgdGhpcy5jYW1lcmFDb250cm9sbGVyLmRldGFjaCgpXG4gICAgICAgIGNvbnN0IGNhbWVyYUNvbnRyb2xsZXIgPSBuZXcgVGdkQ29udHJvbGxlckNhbWVyYU9yYml0KGNvbnRleHQsIHtcbiAgICAgICAgICAgIGluZXJ0aWFPcmJpdDogNTAwLFxuICAgICAgICAgICAgaW5lcnRpYVpvb206IDI1MCxcbiAgICAgICAgICAgIG1pblpvb20sXG4gICAgICAgICAgICBtYXhab29tLFxuICAgICAgICAgICAgc3BlZWRab29tOiAxLFxuICAgICAgICAgICAgb25ab29tUmVxdWVzdDogKHsgem9vbSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudFpvb20uZGlzcGF0Y2godGhpcy50b05vcm1hbGl6ZWRab29tKHpvb20pKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgICB0aGlzLmNhbWVyYUNvbnRyb2xsZXIgPSBjYW1lcmFDb250cm9sbGVyXG4gICAgICAgIGNhbWVyYUNvbnRyb2xsZXIuZXZlbnRDaGFuZ2UuYWRkTGlzdGVuZXIoKCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVtZW1iZXIgbGFzdCBjYW1lcmEgbW92ZW1lbnQgdG8gcHJldmVudCBmYWxzZSBjbGlja3MuXG4gICAgICAgICAgICB0aGlzLmxhc3RDYW1lcmFDaGFuZ2VUaW1lc3RhbXAgPSBEYXRlLm5vdygpXG4gICAgICAgICAgICB0aGlzLmV2ZW50UmVzdGluZ1Bvc2l0aW9uLmRpc3BhdGNoKGZhbHNlKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVhZG9ubHkgaGFuZGxlUGFpbnQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgY29udGV4dCB9ID0gdGhpc1xuICAgICAgICBpZiAoIWNvbnRleHQpIHJldHVyblxuXG4gICAgICAgIHRoaXMubGFzdENhbWVyYVN0YXRlID0gY29udGV4dC5jYW1lcmEuZ2V0Q3VycmVudFN0YXRlKClcbiAgICAgICAgdGhpcy5ldmVudFBhaW50LmRpc3BhdGNoKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29udHJvbGxlclpvb20gQmV0d2VlbiBgdGhpcy5jb250cm9sbGVyLm1pblpvb21gIGFuZCBgdGhpcy5jb250cm9sbGVyLm1heFpvb21gLlxuICAgICAqIEByZXR1cm5zIFRoZSBub3JtYWxpemVkIHpvb20gYmV0d2VlbiAtMSBhbmQgKzEuXG4gICAgICovXG4gICAgcHJpdmF0ZSB0b05vcm1hbGl6ZWRab29tKGNvbnRyb2xsZXJab29tOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgeyBjYW1lcmFDb250cm9sbGVyIH0gPSB0aGlzXG4gICAgICAgIGlmICghY2FtZXJhQ29udHJvbGxlcikgcmV0dXJuIDBcblxuICAgICAgICBjb25zdCB7IG1pblpvb20sIG1heFpvb20gfSA9IGNhbWVyYUNvbnRyb2xsZXJcbiAgICAgICAgaWYgKGNvbnRyb2xsZXJab29tIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRnZENhbGNNYXBSYW5nZShjb250cm9sbGVyWm9vbSwgMSwgbWluWm9vbSwgMCwgLTEsIHRydWUpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRnZENhbGNNYXBSYW5nZShjb250cm9sbGVyWm9vbSwgMSwgbWF4Wm9vbSwgMCwgKzEsIHRydWUpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIG5vcm1hbGl6ZWRab29tIEJldHdlZW4gLTEgYW5kICsxLlxuICAgICAqIEByZXR1cm5zIFRoZSBjb250cm9sbGVyIHpvb20gYmV0d2VlbiBgdGhpcy5jb250cm9sbGVyLm1pblpvb21gIGFuZCBgdGhpcy5jb250cm9sbGVyLm1heFpvb21gLlxuICAgICAqL1xuICAgIHByaXZhdGUgdG9Db250cm9sbGVyWm9vbShub3JtYWxpemVkWm9vbTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHsgY2FtZXJhQ29udHJvbGxlciB9ID0gdGhpc1xuICAgICAgICBpZiAoIWNhbWVyYUNvbnRyb2xsZXIpIHJldHVybiAxXG5cbiAgICAgICAgY29uc3QgeyBtaW5ab29tLCBtYXhab29tIH0gPSBjYW1lcmFDb250cm9sbGVyXG4gICAgICAgIGlmIChub3JtYWxpemVkWm9vbSA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0Z2RDYWxjTWFwUmFuZ2Uobm9ybWFsaXplZFpvb20sIDAsIC0xLCAxLCBtaW5ab29tLCB0cnVlKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0Z2RDYWxjTWFwUmFuZ2Uobm9ybWFsaXplZFpvb20sIDAsICsxLCAxLCBtYXhab29tLCB0cnVlKVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVBhaW50ZXJNYW5hZ2VyKG1vcnBob2xvZ3k6IE1vcnBob2xvZ3kgfCBudWxsKSB7XG4gICAgY29uc3QgcmVmUGFpbnRlciA9IFJlYWN0LnVzZVJlZjxQYWludGVyTWFuYWdlciB8IG51bGw+KG51bGwpXG4gICAgaWYgKCFyZWZQYWludGVyLmN1cnJlbnQpIHtcbiAgICAgICAgcmVmUGFpbnRlci5jdXJyZW50ID0gbmV3IFBhaW50ZXJNYW5hZ2VyKClcbiAgICAgICAgcmVmUGFpbnRlci5jdXJyZW50Lm1vcnBob2xvZ3kgPSBtb3JwaG9sb2d5XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIG1vcnBob2xvZ3kgd2hlbiBpdCBjaGFuZ2VzIChldmVuIGlmIG9iamVjdCByZWZlcmVuY2UgY2hhbmdlcylcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAocmVmUGFpbnRlci5jdXJyZW50KSB7XG4gICAgICAgICAgICByZWZQYWludGVyLmN1cnJlbnQubW9ycGhvbG9neSA9IG1vcnBob2xvZ3lcbiAgICAgICAgfVxuICAgIH0sIFttb3JwaG9sb2d5XSlcblxuICAgIC8vIENsZWFudXAgb25seSBvbiB1bm1vdW50XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhaW50ZXJNYW5hZ2VyID0gcmVmUGFpbnRlci5jdXJyZW50XG4gICAgICAgICAgICBpZiAoIXBhaW50ZXJNYW5hZ2VyKSByZXR1cm5cblxuICAgICAgICAgICAgcGFpbnRlck1hbmFnZXIuZGVsZXRlKClcbiAgICAgICAgfVxuICAgIH0sIFtdKSAvLyBFbXB0eSBkZXBlbmRlbmN5IGFycmF5IC0gb25seSBydW4gb24gbW91bnQvdW5tb3VudFxuICAgIHJldHVybiByZWZQYWludGVyLmN1cnJlbnRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVBhaW50ZXJDb250cm9sbGVyKFxuICAgIHBhaW50ZXI6IFBhaW50ZXJNYW5hZ2VyLFxuICAgIGRpc2FibGVFbGVjdHJvZGVzOiBib29sZWFuLFxuICAgIGRpc2FibGVTeW5hcHNlczogYm9vbGVhbixcbiAgICBkaXNhYmxlQ2xpY2s6IGJvb2xlYW4sXG4gICAgZXZlbnRTeW5hcHNlcz86IFRnZEV2ZW50PHsgY29sb3I6IHN0cmluZzsgZGF0YTogRmxvYXQzMkFycmF5IH1bXT5cbikge1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9ICgpID0+IHtcbiAgICAgICAgICAgIHBhaW50ZXIuZXZlbnRFcnJvci5kaXNwYXRjaChcbiAgICAgICAgICAgICAgICBcIllvdSBjYW5ub3QgYWRkIHJlY29yZGluZ3Mgbm9yIG1vdmUgaW5qZWN0aW9uIHdoaWxlIGEgc2ltdWxhdGlvbiBpcyBydW5uaW5nIVwiXG4gICAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgICAgcGFpbnRlci5ldmVudEZvcmJpZGRlbkNsaWNrLmFkZExpc3RlbmVyKGFjdGlvbilcbiAgICAgICAgcmV0dXJuICgpID0+IHBhaW50ZXIuZXZlbnRGb3JiaWRkZW5DbGljay5yZW1vdmVMaXN0ZW5lcihhY3Rpb24pXG4gICAgfSwgW3BhaW50ZXJdKVxuXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHBhaW50ZXIpIHtcbiAgICAgICAgICAgIHBhaW50ZXIuY2xpY2thYmxlID0gZGlzYWJsZUNsaWNrICE9PSB0cnVlXG4gICAgICAgIH1cbiAgICB9LCBbZGlzYWJsZUNsaWNrLCBwYWludGVyXSlcblxuICAgIGNvbnN0IHN5bmFwc2VzID0gdXNlRXZlbnRWYWx1ZShldmVudFN5bmFwc2VzLCBbXSlcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBwYWludGVyLnNob3dTeW5hcHNlcyhzeW5hcHNlcylcbiAgICB9LCBbc3luYXBzZXMsIHBhaW50ZXJdKVxuXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgcGFpbnRlci5kaXNhYmxlRWxlY3Ryb2RlcyA9IGRpc2FibGVFbGVjdHJvZGVzXG4gICAgfSwgW2Rpc2FibGVFbGVjdHJvZGVzLCBwYWludGVyXSlcblxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHBhaW50ZXIuZGlzYWJsZVN5bmFwc2VzID0gZGlzYWJsZVN5bmFwc2VzXG4gICAgfSwgW2Rpc2FibGVTeW5hcHNlcywgcGFpbnRlcl0pXG59XG5cbmZ1bmN0aW9uIHVzZUV2ZW50VmFsdWU8VD4oZXZlbnQ6IFRnZEV2ZW50PFQ+IHwgdW5kZWZpbmVkLCBpbml0aWFsVmFsdWU6IFQpOiBUIHtcbiAgICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IFJlYWN0LnVzZVN0YXRlKGluaXRpYWxWYWx1ZSlcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWV2ZW50KSByZXR1cm5cblxuICAgICAgICBldmVudC5hZGRMaXN0ZW5lcihzZXRWYWx1ZSlcbiAgICAgICAgcmV0dXJuICgpID0+IGV2ZW50LnJlbW92ZUxpc3RlbmVyKHNldFZhbHVlKVxuICAgIH0sIFtldmVudF0pXG4gICAgcmV0dXJuIHZhbHVlXG59XG4iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzZdLnVzZVsxXSEuL1ZpZXdlci5tb2R1bGUuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbNl0udXNlWzFdIS4vVmlld2VyLm1vZHVsZS5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJpbXBvcnQgeyBUZ2RFdmVudCB9IGZyb20gXCJAdG9sb2tvYmFuL3RnZFwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tIFwiQC9zdGF0ZVwiO1xuaW1wb3J0IHsgdXNlRXZlbnRWYWx1ZSB9IGZyb20gXCJAL3V0aWwvdXRpbHNcIjtcbmltcG9ydCB7XG4gICAgdHlwZSBQYWludGVyTWFuYWdlcixcbiAgICB1c2VQYWludGVyTWFuYWdlcixcbn0gZnJvbSBcIkAvd2ViZ2wtbmV1cm9uLXNlbGVjdG9yL3BhaW50ZXJcIjtcbmltcG9ydCBzdHlsZXMgZnJvbSBcIi4vVmlld2VyLm1vZHVsZS5jc3NcIjtcblxuZXhwb3J0IGludGVyZmFjZSBWaWV3ZXJQcm9wcyB7XG4gICAgY2xhc3NOYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBWaWV3ZXIoeyBjbGFzc05hbWUgfTogVmlld2VyUHJvcHMpIHtcbiAgICBjb25zdCBtb3JwaG9sb2d5ID0gU3RhdGUubW9ycGhvbG9neS51c2VWYWx1ZSgpO1xuICAgIGNvbnN0IG1hbmFnZXIgPSB1c2VQYWludGVyTWFuYWdlcihtb3JwaG9sb2d5KTtcbiAgICBjb25zdCBzZWxlY3Rpb24gPSB1c2VFdmVudFZhbHVlKFxuICAgICAgICB7XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIGl0ZW06IG51bGwsXG4gICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgIH0sXG4gICAgICAgIG1hbmFnZXIuZXZlbnRIb3ZlcixcbiAgICApO1xuICAgIGNvbnN0IHsgaXRlbSB9ID0gc2VsZWN0aW9uO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2pvaW4oY2xhc3NOYW1lLCBzdHlsZXMudmlld2VyKX0+XG4gICAgICAgICAgICA8YXNpZGU+XG4gICAgICAgICAgICAgICAgPGgxPk1vcnBob2xvZ3k8L2gxPlxuICAgICAgICAgICAgICAgIHtpdGVtICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5ncmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+TmFtZTo8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxiPntpdGVtLm5hbWV9PC9iPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5TZWN0aW9uOjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGI+e2l0ZW0uc2VjdGlvbk5hbWV9PC9iPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5TZWdtZW50OjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGI+e2l0ZW0uc2VnbWVudEluZGV4fTwvYj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+TGVhdmVzOjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGI+e2l0ZW0ubGVhdmVzQ291bnR9PC9iPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5NYXggbGVuZ3RoOjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGI+e2l0ZW0ubWF4TGVuZ3RofTwvYj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+Q2hpbGRyZW46PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Yj57aXRlbS5jaGlsZHJlbi5sZW5ndGh9PC9iPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5SYWRpdXM6PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Yj57aXRlbS5yYWRpdXN9PC9iPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9hc2lkZT5cbiAgICAgICAgICAgIDxDYW52YXMgbWFuYWdlcj17bWFuYWdlcn0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn1cblxuY29uc3QgQ2FudmFzID0gUmVhY3QubWVtbyhDYW52YXNDb250ZW50KTtcblxuZnVuY3Rpb24gQ2FudmFzQ29udGVudCh7IG1hbmFnZXIgfTogeyBtYW5hZ2VyOiBQYWludGVyTWFuYWdlciB9KSB7XG4gICAgY29uc3QgbW91bnRDYW52YXMgPSAoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCB8IG51bGwpID0+IHtcbiAgICAgICAgbWFuYWdlci5jYW52YXMgPSBjYW52YXM7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBtYW5hZ2VyLmNhbnZhcyA9IG51bGw7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHJldHVybiA8Y2FudmFzIHJlZj17bW91bnRDYW52YXN9PjwvY2FudmFzPjtcbn1cblxuZnVuY3Rpb24gam9pbiguLi5jbGFzc2VzOiB1bmtub3duW10pOiBzdHJpbmcge1xuICAgIHJldHVybiBjbGFzc2VzLmZpbHRlcigoY2xzKSA9PiB0eXBlb2YgY2xzID09PSBcInN0cmluZ1wiKS5qb2luKFwiIFwiKTtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5pbnRlcmZhY2UgQ3VzdG9tRXZlbnQ8VD4ge1xuICAgIGFkZExpc3RlbmVyKGxpc3RlbmVyOiAodjogVCkgPT4gdm9pZCk6IHZvaWRcbiAgICByZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcjogKHY6IFQpID0+IHZvaWQpOiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VFdmVudFZhbHVlPFQ+KGluaXRpYWxWYWx1ZTogVCwgZXZlbnQ/OiBDdXN0b21FdmVudDxUPik6IFQge1xuICAgIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gUmVhY3QudXNlU3RhdGU8VD4oaW5pdGlhbFZhbHVlKVxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghZXZlbnQpIHJldHVyblxuXG4gICAgICAgIGV2ZW50LmFkZExpc3RlbmVyKHNldFZhbHVlKVxuICAgICAgICByZXR1cm4gKCkgPT4gZXZlbnQucmVtb3ZlTGlzdGVuZXIoc2V0VmFsdWUpXG4gICAgfSwgW2V2ZW50XSlcbiAgICByZXR1cm4gdmFsdWVcbn1cbiIsImltcG9ydCBWaWV3ZXIgZnJvbSBcIkAvY29tcG9uZW50cy9WaWV3ZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGFnZSgpIHtcbiAgICByZXR1cm4gPFZpZXdlciAvPjtcbn1cbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAuc3JjLWNvbXBvbmVudHMtVmlld2VyLVZpZXdlci1tb2R1bGVfdmlld2VyXzJ5Tlp0VyB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IDA7XG4gICAgdG9wOiAwO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICAtLXNpemU6IDMwMHB4O1xuXG4gICAgPiBhc2lkZSB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICB3aWR0aDogdmFyKC0tc2l6ZSk7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2ZmZjtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzExMTtcbiAgICAgICAgY29sb3I6ICNlZWU7XG4gICAgICAgIHBhZGRpbmc6IDFlbTtcbiAgICAgICAgei1pbmRleDogMjtcblxuICAgICAgICAuc3JjLWNvbXBvbmVudHMtVmlld2VyLVZpZXdlci1tb2R1bGVfZ3JpZF9IMjRldGUge1xuICAgICAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogYXV0byAxZnI7XG4gICAgICAgICAgICBnYXA6IDAuNWVtIDFlbTtcblxuICAgICAgICAgICAgPiBkaXYge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuNTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgPiBiIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgPiBjYW52YXMge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGxlZnQ6IHZhcigtLXNpemUpO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSB2YXIoLS1zaXplKSk7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICB9XG59XG5gLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9jb21wb25lbnRzL1ZpZXdlci9WaWV3ZXIubW9kdWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLGtCQUFrQjtJQUNsQixPQUFPO0lBQ1AsTUFBTTtJQUNOLFdBQVc7SUFDWCxZQUFZO0lBQ1osYUFBYTs7SUFFYjtRQUNJLGtCQUFrQjtRQUNsQixPQUFPO1FBQ1AsTUFBTTtRQUNOLGtCQUFrQjtRQUNsQixZQUFZO1FBQ1osNEJBQTRCO1FBQzVCLHNCQUFzQjtRQUN0QixXQUFXO1FBQ1gsWUFBWTtRQUNaLFVBQVU7O1FBRVY7WUFDSSxhQUFhO1lBQ2IsK0JBQStCO1lBQy9CLGNBQWM7O1lBRWQ7Z0JBQ0ksWUFBWTtZQUNoQjs7WUFFQTtnQkFDSSxVQUFVO1lBQ2Q7UUFDSjtJQUNKOztJQUVBO1FBQ0ksa0JBQWtCO1FBQ2xCLGlCQUFpQjtRQUNqQixNQUFNO1FBQ04sK0JBQStCO1FBQy9CLFlBQVk7SUFDaEI7QUFDSlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIudmlld2VyIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBsZWZ0OiAwO1xcbiAgICB0b3A6IDA7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIC0tc2l6ZTogMzAwcHg7XFxuXFxuICAgID4gYXNpZGUge1xcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgbGVmdDogMDtcXG4gICAgICAgIHRvcDogMDtcXG4gICAgICAgIHdpZHRoOiB2YXIoLS1zaXplKTtcXG4gICAgICAgIGhlaWdodDogMTAwJTtcXG4gICAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNmZmY7XFxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTExO1xcbiAgICAgICAgY29sb3I6ICNlZWU7XFxuICAgICAgICBwYWRkaW5nOiAxZW07XFxuICAgICAgICB6LWluZGV4OiAyO1xcblxcbiAgICAgICAgLmdyaWQge1xcbiAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBhdXRvIDFmcjtcXG4gICAgICAgICAgICBnYXA6IDAuNWVtIDFlbTtcXG5cXG4gICAgICAgICAgICA+IGRpdiB7XFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuNTtcXG4gICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgPiBiIHtcXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgPiBjYW52YXMge1xcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgbGVmdDogdmFyKC0tc2l6ZSk7XFxuICAgICAgICB0b3A6IDA7XFxuICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gdmFyKC0tc2l6ZSkpO1xcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICB9XFxufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ubG9jYWxzID0ge1xuXHRcInZpZXdlclwiOiBgc3JjLWNvbXBvbmVudHMtVmlld2VyLVZpZXdlci1tb2R1bGVfdmlld2VyXzJ5Tlp0V2AsXG5cdFwiZ3JpZFwiOiBgc3JjLWNvbXBvbmVudHMtVmlld2VyLVZpZXdlci1tb2R1bGVfZ3JpZF9IMjRldGVgXG59O1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iXSwibmFtZXMiOlsibWFrZUNhbWVyYSIsImJib3giLCJiYm94U29tYSIsImJib3hEZW5kcml0ZXMiLCJjYW1lcmEiLCJ0cmFuc2ZvIiwiZGlzdGFuY2UiLCJwb3NpdGlvbiIsImNlbnRlciIsIm5lYXIiLCJzY3JlZW5IZWlnaHQiLCJzY3JlZW5XaWR0aCIsImNvbXB1dGVEaXN0YW5jZSIsImRpc3RhbmNlTWF4IiwidmFsdWUiLCJsaW1pdCIsImRpc3RhbmNlTWluIiwiZW5zdXJlU21hbGxlciIsInpvb21NaW4iLCJ6b29tTWF4Iiwic2NhbGUiLCJ3aWR0aCIsIk1hdGgiLCJtYXgiLCJhYnMiLCJtaW4iLCJoZWlnaHQiLCJmaXRTcGFjZUF0VGFyZ2V0IiwiY29tcHV0ZVNlY3Rpb25PZmZzZXQiLCJzdHJ1Y3R1cmUiLCJpdGVtIiwieFNjcmVlbiIsInlTY3JlZW4iLCJvZmZzZXRTZWdtZW50Iiwic3RhcnQiLCJlbmQiLCJtYXRyaXgiLCJtYXRyaXhQcm9qZWN0aW9uIiwibXVsdGlwbHkiLCJtYXRyaXhNb2RlbFZpZXciLCJhcHBseU1hdHJpeCIsInciLCJ2ZWNVIiwieCIsInkiLCJsZW5ndGgiLCJzaXplIiwibm9ybWFsaXplIiwidmVjViIsImRvdCIsImNvbXB1dGVTZWdtZW50T2Zmc2V0Iiwic2VnbWVudHMiLCJnZXRTZWdtZW50c09mU2VjdGlvbiIsInNlY3Rpb25OYW1lIiwidG90YWxEaXN0YW5jZSIsInNlZ21lbnQiLCJzZWdtZW50SW5kZXgiLCJidWlsVHJlZSIsIml0ZW1zIiwibWFwIiwiTWFwIiwic2V0Iiwia2V5M0QiLCJwYXJlbnQiLCJnZXQiLCJjaGlsZHJlbiIsInB1c2giLCJyb290Iiwib3JwaGFucyIsImZpbHRlciIsInBvcHVsYXRlVHJlZSIsImNvbXB1dGVSYW5rcyIsImFkZExpYWlzb25zIiwieiIsInRvRml4ZWQiLCJkaXN0YW5jZUZyb21Tb21hIiwibmV3RGlzdGFuY2UiLCJsZWF2ZXNDb3VudCIsIm1heExlbmd0aCIsImNoaWxkIiwicmFua01pbiIsInJhbmtNYXgiLCJyYW5rIiwicmFua1NpemUiLCJyYW5rQ2hpbGRTaXplIiwiaW5kZXgiLCJsaWFpc29uIiwibmFtZSIsInR5cGUiLCJTdHJ1Y3R1cmVJdGVtVHlwZSIsIkxpYWlzb24iLCJyYWRpdXMiLCJTdHJ1Y3R1cmUiLCJjb25zdHJ1Y3RvciIsIm1vcnBob2xvZ3kiLCJzZWdtZW50c1BlclNlY3Rpb24iLCJjcmVhdGVJbml0aWFsQkJveCIsInRoaXMiLCJpc0JCb3hTb21hRW1wdHkiLCJpc0JCb3hEZW5kcml0ZXNFbXB0eSIsInNvbWFDb3VudHMiLCJzb21hQ2VudGVyIiwic2VjdGlvbk5hbWVzIiwiT2JqZWN0Iiwia2V5cyIsImhhc0FwaWNhbERlbmRyaXRlcyIsImlzU29tYSIsInRvTG93ZXJDYXNlIiwic3RhcnRzV2l0aCIsInNlY3Rpb24iLCJuc2VnIiwieHN0YXJ0IiwieXN0YXJ0IiwienN0YXJ0IiwieGVuZCIsInllbmQiLCJ6ZW5kIiwicmVzb2x2ZVR5cGUiLCJkaWFtIiwic2VjdGlvbkluZGV4IiwicmVzb2x2ZVNlY3Rpb25JbmRleCIsInNlZ21lbnRzQ291bnQiLCJhZGRUb1NlY3Rpb24iLCJjb21wdXRlTWluIiwiY29tcHV0ZU1heCIsImFkZCIsImluY2x1ZGVzIiwiY29weUJCb3hJbnRvIiwiRXJyb3IiLCJmb3JFYWNoIiwiY2FsbGJhY2siLCJzZWN0aW9uRnJvbU1hcCIsInNvcnQiLCJhIiwiYiIsInByZXYiLCJjdXJyIiwic2xpY2UiLCJpIiwiaW5kZXhPZiIsInN1ZmZpeCIsInBhcnNlSW50IiwiTnVtYmVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJORUdBVElWRV9JTkZJTklUWSIsImZyb20iLCJ0byIsIm1ha2VTZWdtZW50czNEIiwidXYiLCJVbmtub3duIiwiY29tcHV0ZURlbmRyb2dyYW1TdGFydCIsImNvbXB1dGVEZW5kcm9ncmFtRW5kIiwiTWF0ZXJpYWxJbmRleCIsInN1cGVyIiwidmFyeWluZ3MiLCJ2YXJDb2xvciIsImV4dHJhVmVydGV4U2hhZGVyRnVuY3Rpb25zIiwidmVydGV4U2hhZGVyQ29kZSIsImZyYWdtZW50U2hhZGVyQ29kZSIsIk9mZnNjcmVlblBhaW50ZXIiLCJvbnNjcmVlbkNvbnRleHQiLCJvZmZzY3JlZW5DYW52YXMiLCJPZmZzY3JlZW5DYW52YXMiLCJfc3RydWN0dXJlIiwiZ3JvdXAiLCJwYWludCIsIm9mZnNjcmVlbkNvbnRleHQiLCJjYW52YXMiLCJjZWlsIiwiaCIsImV2ZW50UGFpbnQiLCJhZGRMaXN0ZW5lciIsImNvbnRleHQiLCJwcmVzZXJ2ZURyYXdpbmdCdWZmZXIiLCJhbnRpYWxpYXMiLCJhbHBoYSIsImRlbGV0ZSIsImNvbG9yIiwiZGVwdGgiLCJsZXNzT3JFcXVhbCIsInJvdW5kbmVzcyIsIm1pblJhZGl1cyIsIm1ha2VEYXRhc2V0IiwibWF0ZXJpYWwiLCJnZXRJdGVtQXQiLCJkYXRhIiwiVWludDhBcnJheSIsImdsIiwicmVhZFBpeGVscyIsIlJHQkEiLCJVTlNJR05FRF9CWVRFIiwiUiIsIkciLCJCIiwicmVhZFBpeGVsIiwiZmxvb3IiLCJyZW1vdmVMaXN0ZW5lciIsIlBBTEVUVEUiLCJBeG9uIiwiRGVuZHJpdGUiLCJCYXNhbERlbmRyaXRlIiwiQXBpY2FsRGVuZHJpdGUiLCJNeWVsaW4iLCJTb21hIiwiU2VsZWN0ZWQiLCJQYWludGVySG92ZXIiLCJibGVuZCIsImN1bGwiLCJiYWNrIiwiYWx3YXlzIiwic3BlY3VsYXJFeHBvbmVudCIsInNwZWN1bGFySW50ZW5zaXR5IiwibG9ja0xpZ2h0c1RvQ2FtZXJhIiwibGlnaHQiLCJkaXJlY3Rpb24iLCJQYWludGVyU3luYXBzZXMiLCJzeW5hcHNlcyIsImRhdGFQb2ludCIsImNsb3VkIiwibWluU2l6ZUluUGl4ZWxzIiwicmFkaXVzTXVsdGlwbGllciIsInRleHR1cmUiLCJsb2FkQml0bWFwIiwibXVzdERlbGV0ZVRleHR1cmUiLCJQYWludGVyIiwiZ3JvdXBTZWdtZW50cyIsImdyb3VwU3luYXBzZXMiLCJncm91cEhvdmVyIiwiX3N5bmFwc2VzIiwicGFsZXR0ZSIsInNldFBhcmFtcyIsIm1hZ0ZpbHRlciIsIm1pbkZpbHRlciIsImxlc3MiLCJzeW5hcHNlc0VuYWJsZWQiLCJhY3RpdmUiLCJzZWdtZW50c0RlbmRyb2dyYW0iLCJjb25zb2xlIiwibG9nIiwibWFrZVNlZ21lbnRzRGVuZHJvZ3JhbSIsImhpZ2hsaWdodCIsImRpc2FibGVFbGVjdHJvZGVzIiwiaWQiLCJldmVudEVycm9yIiwiZXZlbnRIb3ZlciIsImV2ZW50VGFwIiwiZXZlbnRab29tIiwiZXZlbnRSZXN0aW5nUG9zaXRpb24iLCJldmVudEhpbnRWaXNpYmxlIiwiZXZlbnRGb3JiaWRkZW5DbGljayIsInBhaW50ZXIiLCJfZGlzYWJsZVN5bmFwc2VzIiwiX21vcnBob2xvZ3kiLCJfY2FudmFzIiwib2Zmc2NyZWVuIiwiX2hvdmVySXRlbSIsIm9mZnNldCIsImluaXRpYWxQb3NpdGlvbiIsImNhbWVyYUNvbnRyb2xsZXIiLCJsYXN0Q2FtZXJhQ2hhbmdlVGltZXN0YW1wIiwibGFzdENhbWVyYVN0YXRlIiwiX2NsaWNrYWJsZSIsInpvb21PdXQiLCJ6b29tIiwiem9vbUluIiwicmVzZXRDYW1lcmEiLCJyZXNldCIsIm9uQWN0aW9uIiwidCIsImRpc3BhdGNoIiwib25FbmQiLCJoYW5kbGVQYWludCIsImdldEN1cnJlbnRTdGF0ZSIsImRpc2FibGVTeW5hcHNlcyIsImNsaWNrYWJsZSIsImhvdmVySXRlbSIsInRvTm9ybWFsaXplZFpvb20iLCJ0b0NvbnRyb2xsZXJab29tIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsInNoaWZ0S2V5IiwiVVJMIiwiZW5jb2RlVVJJIiwiSlNPTiIsInN0cmluZ2lmeSIsImdsb2JhbFRoaXMiLCJvcGVuIiwiaW5pdGlhbGl6ZSIsImluaXRDYW1lcmFDb250cm9sbGVyIiwiZ2V0Q2FtZXJhTWF0cml4IiwiZ2V0U2VjdGlvbkNvb3JkaW5hdGVzIiwicmVkdWNlIiwiZGlzdCIsInRhcmdldERpc3RhbmNlIiwicHJldmlvdXNEaXN0YW5jZSIsInNlZ21lbnRPZmZzZXQiLCJuZXdGcm9tTWl4IiwiZ2V0U2VnbWVudCIsInNlY3Rpb25PZmZzZXQiLCJzaG93U3luYXBzZXMiLCJldmVudFdlYkdMQ29udGV4dFJlc3RvcmVkIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiaW5pdE9mZnNjcmVlbiIsInNldEN1cnJlbnRTdGF0ZSIsImlucHV0cyIsInBvaW50ZXIiLCJjdXJyZW50IiwiRGF0ZSIsIm5vdyIsIm1pblpvb20iLCJtYXhab29tIiwiZGV0YWNoIiwiaW5lcnRpYU9yYml0IiwiaW5lcnRpYVpvb20iLCJzcGVlZFpvb20iLCJvblpvb21SZXF1ZXN0IiwiZXZlbnRDaGFuZ2UiLCJjb250cm9sbGVyWm9vbSIsIm5vcm1hbGl6ZWRab29tIiwiUGFpbnRlck1hbmFnZXIiLCJvcHRpb25zIiwic3R5bGVUYWdUcmFuc2Zvcm0iLCJzZXRBdHRyaWJ1dGVzIiwiaW5zZXJ0IiwiZG9tQVBJIiwiaW5zZXJ0U3R5bGVFbGVtZW50IiwibG9jYWxzIiwidW5kZWZpbmVkIiwiVmlld2VyIiwiY2xhc3NOYW1lIiwibWFuYWdlciIsInJlZlBhaW50ZXIiLCJwYWludGVyTWFuYWdlciIsInVzZVBhaW50ZXJNYW5hZ2VyIiwidXNlVmFsdWUiLCJzZWxlY3Rpb24iLCJpbml0aWFsVmFsdWUiLCJldmVudCIsInNldFZhbHVlIiwidXNlRXZlbnRWYWx1ZSIsImpvaW4iLCJ2aWV3ZXIiLCJncmlkIiwiQ2FudmFzIiwicmVmIiwiY2xhc3NlcyIsImNscyIsIlBhZ2UiLCJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsIm1vZHVsZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9